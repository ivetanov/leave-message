/*! For license information please see main.8e23b84e.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,n)=>{var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function y(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);v[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);v[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);v[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),N=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function j(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case I:return"Profiler";case T:return"StrictMode";case C:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function oe(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,he,de=(he=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return he(e,t)}))}:he);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var be=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function we(e,t){if(t){if(be[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Te=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,xe=null,Ce=null;function De(e){if(e=Ii(e)){if("function"!==typeof Ne)throw Error(o(280));var t=e.stateNode;t&&(t=Ni(t),Ne(e.stateNode,e.type,t))}}function Ae(e){xe?Ce?Ce.push(e):Ce=[e]:xe=e}function Pe(){if(xe){var e=xe,t=Ce;if(Ce=xe=null,De(e),t)for(e=0;e<t.length;e++)De(t[e])}}function Oe(e,t){return e(t)}function Re(){}var Le=!1;function Me(e,t,n){if(Le)return e(t,n);Le=!0;try{return Oe(e,t,n)}finally{Le=!1,(null!==xe||null!==Ce)&&(Re(),Pe())}}function Fe(e,t){var n=e.stateNode;if(null===n)return null;var r=Ni(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ue=!1;if(l)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(he){Ue=!1}function je(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var ze=!1,qe=null,Be=!1,Ke=null,He={onError:function(e){ze=!0,qe=e}};function Qe(e,t,n,r,i,o,a,s,u){ze=!1,qe=null,je.apply(He,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(We(e)!==e)throw Error(o(188))}function Ye(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),null!==e?Xe(e):null}function Xe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Xe(e);if(null!==t)return t;e=e.sibling}return null}var Je=i.unstable_scheduleCallback,Ze=i.unstable_cancelCallback,et=i.unstable_shouldYield,tt=i.unstable_requestPaint,nt=i.unstable_now,rt=i.unstable_getCurrentPriorityLevel,it=i.unstable_ImmediatePriority,ot=i.unstable_UserBlockingPriority,at=i.unstable_NormalPriority,st=i.unstable_LowPriority,ut=i.unstable_IdlePriority,ct=null,lt=null;var ft=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ht(e)/dt|0)|0},ht=Math.log,dt=Math.LN2;var pt=64,yt=4194304;function vt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=vt(s):0!==(o&=a)&&(r=vt(o))}else 0!==(a=n&~i)?r=vt(a):0!==o&&(r=vt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ft(t)),r|=e[n],t&=~i;return r}function gt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function bt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function wt(){var e=pt;return 0===(4194240&(pt<<=1))&&(pt=64),e}function Et(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function St(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ft(t)]=n}function _t(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ft(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Tt=0;function It(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,Nt,xt,Ct,Dt,At=!1,Pt=[],Ot=null,Rt=null,Lt=null,Mt=new Map,Ft=new Map,Ut=[],Vt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ft.delete(t.pointerId)}}function zt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Ii(t))&&Nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function qt(e){var t=Ti(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void Dt(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=tn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ii(n))&&Nt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Te=r,n.target.dispatchEvent(r),Te=null,t.shift()}return!0}function Kt(e,t,n){Bt(e)&&n.delete(t)}function Ht(){At=!1,null!==Ot&&Bt(Ot)&&(Ot=null),null!==Rt&&Bt(Rt)&&(Rt=null),null!==Lt&&Bt(Lt)&&(Lt=null),Mt.forEach(Kt),Ft.forEach(Kt)}function Qt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ht)))}function Gt(e){function t(t){return Qt(t,e)}if(0<Pt.length){Qt(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&Qt(Ot,e),null!==Rt&&Qt(Rt,e),null!==Lt&&Qt(Lt,e),Mt.forEach(t),Ft.forEach(t),n=0;n<Ut.length;n++)(r=Ut[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ut.length&&null===(n=Ut[0]).blockedOn;)qt(n),null===n.blockedOn&&Ut.shift()}var $t=w.ReactCurrentBatchConfig,Yt=!0;function Xt(e,t,n,r){var i=Tt,o=$t.transition;$t.transition=null;try{Tt=1,Zt(e,t,n,r)}finally{Tt=i,$t.transition=o}}function Jt(e,t,n,r){var i=Tt,o=$t.transition;$t.transition=null;try{Tt=4,Zt(e,t,n,r)}finally{Tt=i,$t.transition=o}}function Zt(e,t,n,r){if(Yt){var i=tn(e,t,n,r);if(null===i)Yr(e,t,r,en,n),jt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ot=zt(Ot,e,t,n,r,i),!0;case"dragenter":return Rt=zt(Rt,e,t,n,r,i),!0;case"mouseover":return Lt=zt(Lt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Mt.set(o,zt(Mt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ft.set(o,zt(Ft.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Vt.indexOf(e)){for(;null!==i;){var o=Ii(i);if(null!==o&&kt(o),null===(o=tn(e,t,n,r))&&Yr(e,t,r,en,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Yr(e,t,r,null,n)}}var en=null;function tn(e,t,n,r){if(en=null,null!==(e=Ti(e=ke(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return en=e,null}function nn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rt()){case it:return 1;case ot:return 4;case at:case st:return 16;case ut:return 536870912;default:return 16}default:return 16}}var rn=null,on=null,an=null;function sn(){if(an)return an;var e,t,n=on,r=n.length,i="value"in rn?rn.value:rn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return an=i.slice(e,1<t?1-t:void 0)}function un(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function cn(){return!0}function ln(){return!1}function fn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?cn:ln,this.isPropagationStopped=ln,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=cn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=cn)},persist:function(){},isPersistent:cn}),t}var hn,dn,pn,yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vn=fn(yn),mn=F({},yn,{view:0,detail:0}),gn=fn(mn),bn=F({},mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pn&&(pn&&"mousemove"===e.type?(hn=e.screenX-pn.screenX,dn=e.screenY-pn.screenY):dn=hn=0,pn=e),hn)},movementY:function(e){return"movementY"in e?e.movementY:dn}}),wn=fn(bn),En=fn(F({},bn,{dataTransfer:0})),Sn=fn(F({},mn,{relatedTarget:0})),_n=fn(F({},yn,{animationName:0,elapsedTime:0,pseudoElement:0})),Tn=F({},yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),In=fn(Tn),kn=fn(F({},yn,{data:0})),Nn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function An(){return Dn}var Pn=F({},mn,{key:function(e){if(e.key){var t=Nn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=un(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?un(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?un(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=fn(Pn),Rn=fn(F({},bn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=fn(F({},mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Mn=fn(F({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Fn=F({},bn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Un=fn(Fn),Vn=[9,13,27,32],jn=l&&"CompositionEvent"in window,zn=null;l&&"documentMode"in document&&(zn=document.documentMode);var qn=l&&"TextEvent"in window&&!zn,Bn=l&&(!jn||zn&&8<zn&&11>=zn),Kn=String.fromCharCode(32),Hn=!1;function Qn(e,t){switch(e){case"keyup":return-1!==Vn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Xn(e,t,n,r){Ae(r),0<(t=Jr(t,"onChange")).length&&(n=new vn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Jn=null,Zn=null;function er(e){Kr(e,0)}function tr(e){if(W(ki(e)))return e}function nr(e,t){if("change"===e)return t}var rr=!1;if(l){var ir;if(l){var or="oninput"in document;if(!or){var ar=document.createElement("div");ar.setAttribute("oninput","return;"),or="function"===typeof ar.oninput}ir=or}else ir=!1;rr=ir&&(!document.documentMode||9<document.documentMode)}function sr(){Jn&&(Jn.detachEvent("onpropertychange",ur),Zn=Jn=null)}function ur(e){if("value"===e.propertyName&&tr(Zn)){var t=[];Xn(t,Zn,e,ke(e)),Me(er,t)}}function cr(e,t,n){"focusin"===e?(sr(),Zn=n,(Jn=t).attachEvent("onpropertychange",ur)):"focusout"===e&&sr()}function lr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return tr(Zn)}function fr(e,t){if("click"===e)return tr(t)}function hr(e,t){if("input"===e||"change"===e)return tr(t)}var dr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function pr(e,t){if(dr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!dr(e[i],t[i]))return!1}return!0}function yr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vr(e,t){var n,r=yr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yr(r)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function br(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function wr(e){var t=gr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&mr(n.ownerDocument.documentElement,n)){if(null!==r&&br(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=vr(n,o);var a=vr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Er=l&&"documentMode"in document&&11>=document.documentMode,Sr=null,_r=null,Tr=null,Ir=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ir||null==Sr||Sr!==G(r)||("selectionStart"in(r=Sr)&&br(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Tr&&pr(Tr,r)||(Tr=r,0<(r=Jr(_r,"onSelect")).length&&(t=new vn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Sr)))}function Nr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionend:Nr("Transition","TransitionEnd")},Cr={},Dr={};function Ar(e){if(Cr[e])return Cr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Dr)return Cr[e]=n[t];return e}l&&(Dr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Pr=Ar("animationend"),Or=Ar("animationiteration"),Rr=Ar("animationstart"),Lr=Ar("transitionend"),Mr=new Map,Fr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(e,t){Mr.set(e,t),u(t,[e])}for(var Vr=0;Vr<Fr.length;Vr++){var jr=Fr[Vr];Ur(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}Ur(Pr,"onAnimationEnd"),Ur(Or,"onAnimationIteration"),Ur(Rr,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(Lr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qr=new Set("cancel close invalid load scroll toggle".split(" ").concat(zr));function Br(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Qe.apply(this,arguments),ze){if(!ze)throw Error(o(198));var l=qe;ze=!1,qe=null,Be||(Be=!0,Ke=l)}}(r,t,void 0,e),e.currentTarget=null}function Kr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Br(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Br(i,s,c),o=u}}}if(Be)throw e=Ke,Be=!1,Ke=null,e}function Hr(e,t){var n=t[Ei];void 0===n&&(n=t[Ei]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Qr(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function Gr(e){if(!e[Wr]){e[Wr]=!0,a.forEach((function(t){"selectionchange"!==t&&(qr.has(t)||Qr(t,!1,e),Qr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wr]||(t[Wr]=!0,Qr("selectionchange",!1,t))}}function $r(e,t,n,r){switch(nn(t)){case 1:var i=Xt;break;case 4:i=Jt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Yr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Ti(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Me((function(){var r=o,i=ke(n),a=[];e:{var s=Mr.get(e);if(void 0!==s){var u=vn,c=e;switch(e){case"keypress":if(0===un(n))break e;case"keydown":case"keyup":u=On;break;case"focusin":c="focus",u=Sn;break;case"focusout":c="blur",u=Sn;break;case"beforeblur":case"afterblur":u=Sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=En;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Ln;break;case Pr:case Or:case Rr:u=_n;break;case Lr:u=Mn;break;case"scroll":u=gn;break;case"wheel":u=Un;break;case"copy":case"cut":case"paste":u=In;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var y=(d=p).stateNode;if(5===d.tag&&null!==y&&(d=y,null!==h&&(null!=(y=Fe(p,h))&&l.push(Xr(p,y,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Te||!(c=n.relatedTarget||n.fromElement)||!Ti(c)&&!c[wi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ti(c):null)&&(c!==(f=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=wn,y="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,y="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==c?s:ki(c),(s=new l(y,p+"leave",u,n,i)).target=f,s.relatedTarget=d,y=null,Ti(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,y=l),f=y,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Zr(d))p++;for(d=0,y=h;y;y=Zr(y))d++;for(;0<p-d;)l=Zr(l),p--;for(;0<d-p;)h=Zr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Zr(l),h=Zr(h)}l=null}else l=null;null!==u&&ei(a,s,u,l,!1),null!==c&&null!==f&&ei(a,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=nr;else if(Yn(s))if(rr)v=hr;else{v=lr;var m=cr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=fr);switch(v&&(v=v(e,r))?Xn(a,v,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?ki(r):window,e){case"focusin":(Yn(m)||"true"===m.contentEditable)&&(Sr=m,_r=r,Tr=null);break;case"focusout":Tr=_r=Sr=null;break;case"mousedown":Ir=!0;break;case"contextmenu":case"mouseup":case"dragend":Ir=!1,kr(a,n,i);break;case"selectionchange":if(Er)break;case"keydown":case"keyup":kr(a,n,i)}var g;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gn?Qn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Gn&&(g=sn()):(on="value"in(rn=i)?rn.value:rn.textContent,Gn=!0)),0<(m=Jr(r,b)).length&&(b=new kn(b,e,null,n,i),a.push({event:b,listeners:m}),g?b.data=g:null!==(g=Wn(n))&&(b.data=g))),(g=qn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Hn=!0,Kn);case"textInput":return(e=t.data)===Kn&&Hn?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!jn&&Qn(e,t)?(e=sn(),an=on=rn=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Jr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}Kr(a,t)}))}function Xr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Fe(e,n))&&r.unshift(Xr(e,o,i)),null!=(o=Fe(e,t))&&r.push(Xr(e,o,i))),e=e.return}return r}function Zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ei(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Fe(n,o))&&a.unshift(Xr(n,u,s)):i||null!=(u=Fe(n,o))&&a.push(Xr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var ti=/\r\n?/g,ni=/\u0000|\uFFFD/g;function ri(e){return("string"===typeof e?e:""+e).replace(ti,"\n").replace(ni,"")}function ii(e,t,n){if(t=ri(t),ri(e)!==t&&n)throw Error(o(425))}function oi(){}var ai=null,si=null;function ui(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ci="function"===typeof setTimeout?setTimeout:void 0,li="function"===typeof clearTimeout?clearTimeout:void 0,fi="function"===typeof Promise?Promise:void 0,hi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof fi?function(e){return fi.resolve(null).then(e).catch(di)}:ci;function di(e){setTimeout((function(){throw e}))}function pi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Gt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Gt(t)}function yi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function vi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var mi=Math.random().toString(36).slice(2),gi="__reactFiber$"+mi,bi="__reactProps$"+mi,wi="__reactContainer$"+mi,Ei="__reactEvents$"+mi,Si="__reactListeners$"+mi,_i="__reactHandles$"+mi;function Ti(e){var t=e[gi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wi]||n[gi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=vi(e);null!==e;){if(n=e[gi])return n;e=vi(e)}return t}n=(e=n).parentNode}return null}function Ii(e){return!(e=e[gi]||e[wi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ni(e){return e[bi]||null}var xi=[],Ci=-1;function Di(e){return{current:e}}function Ai(e){0>Ci||(e.current=xi[Ci],xi[Ci]=null,Ci--)}function Pi(e,t){Ci++,xi[Ci]=e.current,e.current=t}var Oi={},Ri=Di(Oi),Li=Di(!1),Mi=Oi;function Fi(e,t){var n=e.type.contextTypes;if(!n)return Oi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ui(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Vi(){Ai(Li),Ai(Ri)}function ji(e,t,n){if(Ri.current!==Oi)throw Error(o(168));Pi(Ri,t),Pi(Li,n)}function zi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,B(e)||"Unknown",i));return F({},n,r)}function qi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oi,Mi=Ri.current,Pi(Ri,e),Pi(Li,Li.current),!0}function Bi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=zi(e,t,Mi),r.__reactInternalMemoizedMergedChildContext=e,Ai(Li),Ai(Ri),Pi(Ri,e)):Ai(Li),Pi(Li,n)}var Ki=null,Hi=!1,Qi=!1;function Wi(e){null===Ki?Ki=[e]:Ki.push(e)}function Gi(){if(!Qi&&null!==Ki){Qi=!0;var e=0,t=Tt;try{var n=Ki;for(Tt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ki=null,Hi=!1}catch(_p){throw null!==Ki&&(Ki=Ki.slice(e+1)),Je(it,Gi),_p}finally{Tt=t,Qi=!1}}return null}var $i=[],Yi=0,Xi=null,Ji=0,Zi=[],eo=0,to=null,no=1,ro="";function io(e,t){$i[Yi++]=Ji,$i[Yi++]=Xi,Xi=e,Ji=t}function oo(e,t,n){Zi[eo++]=no,Zi[eo++]=ro,Zi[eo++]=to,to=e;var r=no;e=ro;var i=32-ft(r)-1;r&=~(1<<i),n+=1;var o=32-ft(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,no=1<<32-ft(t)+i|n<<i|r,ro=o+e}else no=1<<o|n<<i|r,ro=e}function ao(e){null!==e.return&&(io(e,1),oo(e,1,0))}function so(e){for(;e===Xi;)Xi=$i[--Yi],$i[Yi]=null,Ji=$i[--Yi],$i[Yi]=null;for(;e===to;)to=Zi[--eo],Zi[eo]=null,ro=Zi[--eo],Zi[eo]=null,no=Zi[--eo],Zi[eo]=null}var uo=null,co=null,lo=!1,fo=null;function ho(e,t){var n=Fc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function po(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,uo=e,co=yi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,uo=e,co=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==to?{id:no,overflow:ro}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Fc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,uo=e,co=null,!0);default:return!1}}function yo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function vo(e){if(lo){var t=co;if(t){var n=t;if(!po(e,t)){if(yo(e))throw Error(o(418));t=yi(n.nextSibling);var r=uo;t&&po(e,t)?ho(r,n):(e.flags=-4097&e.flags|2,lo=!1,uo=e)}}else{if(yo(e))throw Error(o(418));e.flags=-4097&e.flags|2,lo=!1,uo=e}}}function mo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;uo=e}function go(e){if(e!==uo)return!1;if(!lo)return mo(e),lo=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ui(e.type,e.memoizedProps)),t&&(t=co)){if(yo(e))throw bo(),Error(o(418));for(;t;)ho(e,t),t=yi(t.nextSibling)}if(mo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){co=yi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}co=null}}else co=uo?yi(e.stateNode.nextSibling):null;return!0}function bo(){for(var e=co;e;)e=yi(e.nextSibling)}function wo(){co=uo=null,lo=!1}function Eo(e){null===fo?fo=[e]:fo.push(e)}var So=w.ReactCurrentBatchConfig;function _o(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function To(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Io(e){return(0,e._init)(e._payload)}function ko(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Vc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&Io(o)===t.type)?((r=i(t,n.props)).ref=_o(e,t,n),r.return=e,r):((r=jc(n.type,n.key,n.props,null,e.mode,r)).ref=_o(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=zc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=jc(t.type,t.key,t.props,null,e.mode,n)).ref=_o(e,null,t),n.return=e,n;case S:return(t=Kc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=zc(t,e.mode,n,null)).return=e,t;To(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);To(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);To(t,r)}return null}function y(i,o,s,u){for(var c=null,l=null,f=o,y=o=0,v=null;null!==f&&y<s.length;y++){f.index>y?(v=f,f=null):v=f.sibling;var m=d(i,f,s[y],u);if(null===m){null===f&&(f=v);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,y),null===l?c=m:l.sibling=m,l=m,f=v}if(y===s.length)return n(i,f),lo&&io(i,y),c;if(null===f){for(;y<s.length;y++)null!==(f=h(i,s[y],u))&&(o=a(f,o,y),null===l?c=f:l.sibling=f,l=f);return lo&&io(i,y),c}for(f=r(i,f);y<s.length;y++)null!==(v=p(f,i,y,s[y],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?y:v.key),o=a(v,o,y),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(i,e)})),lo&&io(i,y),c}function v(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,y=s,v=s=0,m=null,g=u.next();null!==y&&!g.done;v++,g=u.next()){y.index>v?(m=y,y=null):m=y.sibling;var b=d(i,y,g.value,c);if(null===b){null===y&&(y=m);break}e&&y&&null===b.alternate&&t(i,y),s=a(b,s,v),null===f?l=b:f.sibling=b,f=b,y=m}if(g.done)return n(i,y),lo&&io(i,v),l;if(null===y){for(;!g.done;v++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,v),null===f?l=g:f.sibling=g,f=g);return lo&&io(i,v),l}for(y=r(i,y);!g.done;v++,g=u.next())null!==(g=p(y,i,v,g.value,c))&&(e&&null!==g.alternate&&y.delete(null===g.key?v:g.key),s=a(g,s,v),null===f?l=g:f.sibling=g,f=g);return e&&y.forEach((function(e){return t(i,e)})),lo&&io(i,v),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case E:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===_){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Io(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=_o(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===_?((o=zc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=jc(a.type,a.key,a.props,null,r.mode,u)).ref=_o(r,o,a),u.return=r,r=u)}return s(r);case S:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Kc(a,r.mode,u)).return=r,r=o}return s(r);case P:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return y(r,o,a,u);if(L(a))return v(r,o,a,u);To(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Bc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var No=ko(!0),xo=ko(!1),Co=Di(null),Do=null,Ao=null,Po=null;function Oo(){Po=Ao=Do=null}function Ro(e){var t=Co.current;Ai(Co),e._currentValue=t}function Lo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Mo(e,t){Do=e,Po=Ao=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Is=!0),e.firstContext=null)}function Fo(e){var t=e._currentValue;if(Po!==e)if(e={context:e,memoizedValue:t,next:null},null===Ao){if(null===Do)throw Error(o(308));Ao=e,Do.dependencies={lanes:0,firstContext:e}}else Ao=Ao.next=e;return t}var Uo=null;function Vo(e){null===Uo?Uo=[e]:Uo.push(e)}function jo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Vo(t)):(n.next=i.next,i.next=n),t.interleaved=n,zo(e,r)}function zo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var qo=!1;function Bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ko(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ho(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ru)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,zo(e,n)}return null===(i=r.interleaved)?(t.next=t,Vo(r)):(t.next=i.next,i.next=t),r.interleaved=t,zo(e,n)}function Wo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_t(e,n)}}function Go(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $o(e,t,n,r){var i=e.updateQueue;qo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var f=i.baseState;for(a=0,l=c=u=null,s=o;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,y=s;switch(h=t,d=n,y.tag){case 1:if("function"===typeof(p=y.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=y.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:qo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);qu|=a,e.lanes=a,e.memoizedState=f}}function Yo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Xo={},Jo=Di(Xo),Zo=Di(Xo),ea=Di(Xo);function ta(e){if(e===Xo)throw Error(o(174));return e}function na(e,t){switch(Pi(ea,t),Pi(Zo,e),Pi(Jo,Xo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ai(Jo),Pi(Jo,t)}function ra(){Ai(Jo),Ai(Zo),Ai(ea)}function ia(e){ta(ea.current);var t=ta(Jo.current),n=ce(t,e.type);t!==n&&(Pi(Zo,e),Pi(Jo,n))}function oa(e){Zo.current===e&&(Ai(Jo),Ai(Zo))}var aa=Di(0);function sa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function ca(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var la=w.ReactCurrentDispatcher,fa=w.ReactCurrentBatchConfig,ha=0,da=null,pa=null,ya=null,va=!1,ma=!1,ga=0,ba=0;function wa(){throw Error(o(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!dr(e[n],t[n]))return!1;return!0}function Sa(e,t,n,r,i,a){if(ha=a,da=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,la.current=null===e||null===e.memoizedState?os:as,e=n(r,i),ma){a=0;do{if(ma=!1,ga=0,25<=a)throw Error(o(301));a+=1,ya=pa=null,t.updateQueue=null,la.current=ss,e=n(r,i)}while(ma)}if(la.current=is,t=null!==pa&&null!==pa.next,ha=0,ya=pa=da=null,va=!1,t)throw Error(o(300));return e}function _a(){var e=0!==ga;return ga=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?da.memoizedState=ya=e:ya=ya.next=e,ya}function Ia(){if(null===pa){var e=da.alternate;e=null!==e?e.memoizedState:null}else e=pa.next;var t=null===ya?da.memoizedState:ya.next;if(null!==t)ya=t,pa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(pa=e).memoizedState,baseState:pa.baseState,baseQueue:pa.baseQueue,queue:pa.queue,next:null},null===ya?da.memoizedState=ya=e:ya=ya.next=e}return ya}function ka(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=Ia(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=pa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var f=l.lane;if((ha&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,da.lanes|=f,qu|=f}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,dr(r,t.memoizedState)||(Is=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,da.lanes|=a,qu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xa(e){var t=Ia(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);dr(a,t.memoizedState)||(Is=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ca(){}function Da(e,t){var n=da,r=Ia(),i=t(),a=!dr(r.memoizedState,i);if(a&&(r.memoizedState=i,Is=!0),r=r.queue,qa(Oa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,Fa(9,Pa.bind(null,n,r,i,t),void 0,null),null===Lu)throw Error(o(349));0!==(30&ha)||Aa(n,t,i)}return i}function Aa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=da.updateQueue)?(t={lastEffect:null,stores:null},da.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Pa(e,t,n,r){t.value=n,t.getSnapshot=r,Ra(t)&&La(e)}function Oa(e,t,n){return n((function(){Ra(t)&&La(e)}))}function Ra(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dr(e,n)}catch(r){return!0}}function La(e){var t=zo(e,1);null!==t&&uc(t,e,1,-1)}function Ma(e){var t=Ta();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=es.bind(null,da,e),[t.memoizedState,e]}function Fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=da.updateQueue)?(t={lastEffect:null,stores:null},da.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ua(){return Ia().memoizedState}function Va(e,t,n,r){var i=Ta();da.flags|=e,i.memoizedState=Fa(1|t,n,void 0,void 0===r?null:r)}function ja(e,t,n,r){var i=Ia();r=void 0===r?null:r;var o=void 0;if(null!==pa){var a=pa.memoizedState;if(o=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Fa(t,n,o,r))}da.flags|=e,i.memoizedState=Fa(1|t,n,o,r)}function za(e,t){return Va(8390656,8,e,t)}function qa(e,t){return ja(2048,8,e,t)}function Ba(e,t){return ja(4,2,e,t)}function Ka(e,t){return ja(4,4,e,t)}function Ha(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ja(4,4,Ha.bind(null,t,e),n)}function Wa(){}function Ga(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ya(e,t,n){return 0===(21&ha)?(e.baseState&&(e.baseState=!1,Is=!0),e.memoizedState=n):(dr(n,t)||(n=wt(),da.lanes|=n,qu|=n,e.baseState=!0),t)}function Xa(e,t){var n=Tt;Tt=0!==n&&4>n?n:4,e(!0);var r=fa.transition;fa.transition={};try{e(!1),t()}finally{Tt=n,fa.transition=r}}function Ja(){return Ia().memoizedState}function Za(e,t,n){var r=sc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ts(e))ns(t,n);else if(null!==(n=jo(e,t,n,r))){uc(n,e,r,ac()),rs(n,t,r)}}function es(e,t,n){var r=sc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ts(e))ns(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,dr(s,a)){var u=t.interleaved;return null===u?(i.next=i,Vo(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=jo(e,t,i,r))&&(uc(n,e,r,i=ac()),rs(n,t,r))}}function ts(e){var t=e.alternate;return e===da||null!==t&&t===da}function ns(e,t){ma=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_t(e,n)}}var is={readContext:Fo,useCallback:wa,useContext:wa,useEffect:wa,useImperativeHandle:wa,useInsertionEffect:wa,useLayoutEffect:wa,useMemo:wa,useReducer:wa,useRef:wa,useState:wa,useDebugValue:wa,useDeferredValue:wa,useTransition:wa,useMutableSource:wa,useSyncExternalStore:wa,useId:wa,unstable_isNewReconciler:!1},os={readContext:Fo,useCallback:function(e,t){return Ta().memoizedState=[e,void 0===t?null:t],e},useContext:Fo,useEffect:za,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Ha.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ta();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Za.bind(null,da,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ta().memoizedState=e},useState:Ma,useDebugValue:Wa,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=Ma(!1),t=e[0];return e=Xa.bind(null,e[1]),Ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=da,i=Ta();if(lo){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Lu)throw Error(o(349));0!==(30&ha)||Aa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,za(Oa.bind(null,r,a,e),[e]),r.flags|=2048,Fa(9,Pa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ta(),t=Lu.identifierPrefix;if(lo){var n=ro;t=":"+t+"R"+(n=(no&~(1<<32-ft(no)-1)).toString(32)+n),0<(n=ga++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ba++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},as={readContext:Fo,useCallback:Ga,useContext:Fo,useEffect:qa,useImperativeHandle:Qa,useInsertionEffect:Ba,useLayoutEffect:Ka,useMemo:$a,useReducer:Na,useRef:Ua,useState:function(){return Na(ka)},useDebugValue:Wa,useDeferredValue:function(e){return Ya(Ia(),pa.memoizedState,e)},useTransition:function(){return[Na(ka)[0],Ia().memoizedState]},useMutableSource:Ca,useSyncExternalStore:Da,useId:Ja,unstable_isNewReconciler:!1},ss={readContext:Fo,useCallback:Ga,useContext:Fo,useEffect:qa,useImperativeHandle:Qa,useInsertionEffect:Ba,useLayoutEffect:Ka,useMemo:$a,useReducer:xa,useRef:Ua,useState:function(){return xa(ka)},useDebugValue:Wa,useDeferredValue:function(e){var t=Ia();return null===pa?t.memoizedState=e:Ya(t,pa.memoizedState,e)},useTransition:function(){return[xa(ka)[0],Ia().memoizedState]},useMutableSource:Ca,useSyncExternalStore:Da,useId:Ja,unstable_isNewReconciler:!1};function us(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function cs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ls={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ac(),i=sc(e),o=Ho(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Qo(e,o,i))&&(uc(t,e,i,r),Wo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ac(),i=sc(e),o=Ho(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Qo(e,o,i))&&(uc(t,e,i,r),Wo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ac(),r=sc(e),i=Ho(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Qo(e,i,r))&&(uc(t,e,r,n),Wo(t,e,r))}};function fs(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!pr(n,r)||!pr(i,o))}function hs(e,t,n){var r=!1,i=Oi,o=t.contextType;return"object"===typeof o&&null!==o?o=Fo(o):(i=Ui(t)?Mi:Ri.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Fi(e,i):Oi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ls,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ds(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ls.enqueueReplaceState(t,t.state,null)}function ps(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Bo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Fo(o):(o=Ui(t)?Mi:Ri.current,i.context=Fi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(cs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ls.enqueueReplaceState(i,i.state,null),$o(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ys(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function vs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ms(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var gs="function"===typeof WeakMap?WeakMap:Map;function bs(e,t,n){(n=Ho(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Xu=r),ms(0,t)},n}function ws(e,t,n){(n=Ho(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ms(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ms(0,t),"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Es(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new gs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ac.bind(null,e,t,n),t.then(e,e))}function Ss(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function _s(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ho(-1,1)).tag=2,Qo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Ts=w.ReactCurrentOwner,Is=!1;function ks(e,t,n,r){t.child=null===e?xo(t,null,n,r):No(t,e.child,n,r)}function Ns(e,t,n,r,i){n=n.render;var o=t.ref;return Mo(t,i),r=Sa(e,t,n,r,o,i),n=_a(),null===e||Is?(lo&&n&&ao(t),t.flags|=1,ks(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ys(e,t,i))}function xs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Uc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=jc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Cs(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:pr)(a,r)&&e.ref===t.ref)return Ys(e,t,i)}return t.flags|=1,(e=Vc(o,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(pr(o,r)&&e.ref===t.ref){if(Is=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ys(e,t,i);0!==(131072&e.flags)&&(Is=!0)}}return Ps(e,t,n,r,i)}function Ds(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pi(Vu,Uu),Uu|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pi(Vu,Uu),Uu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Pi(Vu,Uu),Uu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Pi(Vu,Uu),Uu|=r;return ks(e,t,i,n),t.child}function As(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ps(e,t,n,r,i){var o=Ui(n)?Mi:Ri.current;return o=Fi(t,o),Mo(t,i),n=Sa(e,t,n,r,o,i),r=_a(),null===e||Is?(lo&&r&&ao(t),t.flags|=1,ks(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ys(e,t,i))}function Os(e,t,n,r,i){if(Ui(n)){var o=!0;qi(t)}else o=!1;if(Mo(t,i),null===t.stateNode)$s(e,t),hs(t,n,r),ps(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Fo(c):c=Fi(t,c=Ui(n)?Mi:Ri.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&ds(t,a,r,c),qo=!1;var h=t.memoizedState;a.state=h,$o(t,r,a,i),u=t.memoizedState,s!==r||h!==u||Li.current||qo?("function"===typeof l&&(cs(t,n,l,r),u=t.memoizedState),(s=qo||fs(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ko(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:us(t.type,s),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Fo(u):u=Fi(t,u=Ui(n)?Mi:Ri.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==u)&&ds(t,a,r,u),qo=!1,h=t.memoizedState,a.state=h,$o(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||Li.current||qo?("function"===typeof d&&(cs(t,n,d,r),p=t.memoizedState),(c=qo||fs(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Rs(e,t,n,r,o,i)}function Rs(e,t,n,r,i,o){As(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Bi(t,n,!1),Ys(e,t,o);r=t.stateNode,Ts.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=No(t,e.child,null,o),t.child=No(t,null,s,o)):ks(e,t,s,o),t.memoizedState=r.state,i&&Bi(t,n,!0),t.child}function Ls(e){var t=e.stateNode;t.pendingContext?ji(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ji(0,t.context,!1),na(e,t.containerInfo)}function Ms(e,t,n,r,i){return wo(),Eo(i),t.flags|=256,ks(e,t,n,r),t.child}var Fs,Us,Vs,js,zs={dehydrated:null,treeContext:null,retryLane:0};function qs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bs(e,t,n){var r,i=t.pendingProps,a=aa.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Pi(aa,1&a),null===e)return vo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=qc(u,i,0,null),e=zc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=qs(n),t.memoizedState=zs,e):Ks(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Hs(e,t,s,r=vs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=qc({mode:"visible",children:r.children},i,0,null),(a=zc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&No(t,e.child,null,s),t.child.memoizedState=qs(s),t.memoizedState=zs,a);if(0===(1&t.mode))return Hs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Hs(e,t,s,r=vs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),Is||u){if(null!==(r=Lu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,zo(e,i),uc(r,e,i,-1))}return Ec(),Hs(e,t,s,r=vs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Oc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,co=yi(i.nextSibling),uo=t,lo=!0,fo=null,null!==e&&(Zi[eo++]=no,Zi[eo++]=ro,Zi[eo++]=to,no=e.id,ro=e.overflow,to=t),t=Ks(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Vc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Vc(r,s):(s=zc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?qs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=zs,i}return e=(s=e.child).sibling,i=Vc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ks(e,t){return(t=qc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Hs(e,t,n,r){return null!==r&&Eo(r),No(t,e.child,null,n),(e=Ks(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Qs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Lo(e.return,t,n)}function Ws(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Gs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ks(e,t,r.children,n),0!==(2&(r=aa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qs(e,n,t);else if(19===e.tag)Qs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pi(aa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===sa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ws(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===sa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ws(t,!0,n,null,o);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $s(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ys(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Vc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xs(e,t){if(!lo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Js(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zs(e,t,n){var r=t.pendingProps;switch(so(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Js(t),null;case 1:case 17:return Ui(t.type)&&Vi(),Js(t),null;case 3:return r=t.stateNode,ra(),Ai(Li),Ai(Ri),ca(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(go(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==fo&&(hc(fo),fo=null))),Us(e,t),Js(t),null;case 5:oa(t);var i=ta(ea.current);if(n=t.type,null!==e&&null!=t.stateNode)Vs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Js(t),null}if(e=ta(Jo.current),go(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[gi]=t,r[bi]=a,e=0!==(1&t.mode),n){case"dialog":Hr("cancel",r),Hr("close",r);break;case"iframe":case"object":case"embed":Hr("load",r);break;case"video":case"audio":for(i=0;i<zr.length;i++)Hr(zr[i],r);break;case"source":Hr("error",r);break;case"img":case"image":case"link":Hr("error",r),Hr("load",r);break;case"details":Hr("toggle",r);break;case"input":Y(r,a),Hr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Hr("invalid",r);break;case"textarea":ie(r,a),Hr("invalid",r)}for(var u in we(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&ii(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&ii(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Hr("scroll",r)}switch(n){case"input":Q(r),Z(r,a,!0);break;case"textarea":Q(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=oi)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[gi]=t,e[bi]=r,Fs(e,t,!1,!1),t.stateNode=e;e:{switch(u=Ee(n,r),n){case"dialog":Hr("cancel",e),Hr("close",e),i=r;break;case"iframe":case"object":case"embed":Hr("load",e),i=r;break;case"video":case"audio":for(i=0;i<zr.length;i++)Hr(zr[i],e);i=r;break;case"source":Hr("error",e),i=r;break;case"img":case"image":case"link":Hr("error",e),Hr("load",e),i=r;break;case"details":Hr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Hr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Hr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Hr("invalid",e)}for(a in we(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?ge(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&pe(e,l):"number"===typeof l&&pe(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Hr("scroll",e):null!=l&&b(e,a,l,u))}switch(n){case"input":Q(e),Z(e,r,!1);break;case"textarea":Q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=oi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Js(t),null;case 6:if(e&&null!=t.stateNode)js(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ta(ea.current),ta(Jo.current),go(t)){if(r=t.stateNode,n=t.memoizedProps,r[gi]=t,(a=r.nodeValue!==n)&&null!==(e=uo))switch(e.tag){case 3:ii(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ii(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[gi]=t,t.stateNode=r}return Js(t),null;case 13:if(Ai(aa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(lo&&null!==co&&0!==(1&t.mode)&&0===(128&t.flags))bo(),wo(),t.flags|=98560,a=!1;else if(a=go(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[gi]=t}else wo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Js(t),a=!1}else null!==fo&&(hc(fo),fo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&aa.current)?0===ju&&(ju=3):Ec())),null!==t.updateQueue&&(t.flags|=4),Js(t),null);case 4:return ra(),Us(e,t),null===e&&Gr(t.stateNode.containerInfo),Js(t),null;case 10:return Ro(t.type._context),Js(t),null;case 19:if(Ai(aa),null===(a=t.memoizedState))return Js(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Xs(a,!1);else{if(0!==ju||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=sa(e))){for(t.flags|=128,Xs(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pi(aa,1&aa.current|2),t.child}e=e.sibling}null!==a.tail&&nt()>Gu&&(t.flags|=128,r=!0,Xs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=sa(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Xs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!lo)return Js(t),null}else 2*nt()-a.renderingStartTime>Gu&&1073741824!==n&&(t.flags|=128,r=!0,Xs(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=nt(),t.sibling=null,n=aa.current,Pi(aa,r?1&n|2:1&n),t):(Js(t),null);case 22:case 23:return mc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Uu)&&(Js(t),6&t.subtreeFlags&&(t.flags|=8192)):Js(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function eu(e,t){switch(so(t),t.tag){case 1:return Ui(t.type)&&Vi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ra(),Ai(Li),Ai(Ri),ca(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oa(t),null;case 13:if(Ai(aa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));wo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ai(aa),null;case 4:return ra(),null;case 10:return Ro(t.type._context),null;case 22:case 23:return mc(),null;default:return null}}Fs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Us=function(){},Vs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ta(Jo.current);var o,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=oi)}for(l in we(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Hr("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},js=function(e,t,n,r){n!==r&&(t.flags|=4)};var tu=!1,nu=!1,ru="function"===typeof WeakSet?WeakSet:Set,iu=null;function ou(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Dc(e,t,r)}else n.current=null}function au(e,t,n){try{n()}catch(r){Dc(e,t,r)}}var su=!1;function uu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&au(t,n,o)}i=i.next}while(i!==r)}}function cu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function lu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function fu(e){var t=e.alternate;null!==t&&(e.alternate=null,fu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[gi],delete t[bi],delete t[Ei],delete t[Si],delete t[_i])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hu(e){return 5===e.tag||3===e.tag||4===e.tag}function du(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||hu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function pu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=oi));else if(4!==r&&null!==(e=e.child))for(pu(e,t,n),e=e.sibling;null!==e;)pu(e,t,n),e=e.sibling}function yu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(yu(e,t,n),e=e.sibling;null!==e;)yu(e,t,n),e=e.sibling}var vu=null,mu=!1;function gu(e,t,n){for(n=n.child;null!==n;)bu(e,t,n),n=n.sibling}function bu(e,t,n){if(lt&&"function"===typeof lt.onCommitFiberUnmount)try{lt.onCommitFiberUnmount(ct,n)}catch(ue){}switch(n.tag){case 5:nu||ou(n,t);case 6:var r=vu,i=mu;vu=null,gu(e,t,n),mu=i,null!==(vu=r)&&(mu?(e=vu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):vu.removeChild(n.stateNode));break;case 18:null!==vu&&(mu?(e=vu,n=n.stateNode,8===e.nodeType?pi(e.parentNode,n):1===e.nodeType&&pi(e,n),Gt(e)):pi(vu,n.stateNode));break;case 4:r=vu,i=mu,vu=n.stateNode.containerInfo,mu=!0,gu(e,t,n),vu=r,mu=i;break;case 0:case 11:case 14:case 15:if(!nu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&au(n,t,a),i=i.next}while(i!==r)}gu(e,t,n);break;case 1:if(!nu&&(ou(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(ue){Dc(n,t,ue)}gu(e,t,n);break;case 21:gu(e,t,n);break;case 22:1&n.mode?(nu=(r=nu)||null!==n.memoizedState,gu(e,t,n),nu=r):gu(e,t,n);break;default:gu(e,t,n)}}function wu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ru),t.forEach((function(t){var r=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Eu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:vu=u.stateNode,mu=!1;break e;case 3:case 4:vu=u.stateNode.containerInfo,mu=!0;break e}u=u.return}if(null===vu)throw Error(o(160));bu(a,s,i),vu=null,mu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Dc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Su(t,e),t=t.sibling}function Su(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Eu(t,e),_u(e),4&r){try{uu(3,e,e.return),cu(3,e)}catch(_e){Dc(e,e.return,_e)}try{uu(5,e,e.return)}catch(_e){Dc(e,e.return,_e)}}break;case 1:Eu(t,e),_u(e),512&r&&null!==n&&ou(n,n.return);break;case 5:if(Eu(t,e),_u(e),512&r&&null!==n&&ou(n,n.return),32&e.flags){var i=e.stateNode;try{pe(i,"")}catch(_e){Dc(e,e.return,_e)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&X(i,a),Ee(u,s);var l=Ee(u,a);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?ge(i,h):"dangerouslySetInnerHTML"===f?de(i,h):"children"===f?pe(i,h):b(i,f,h,l)}switch(u){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[bi]=a}catch(_e){Dc(e,e.return,_e)}}break;case 6:if(Eu(t,e),_u(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(_e){Dc(e,e.return,_e)}}break;case 3:if(Eu(t,e),_u(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Gt(t.containerInfo)}catch(_e){Dc(e,e.return,_e)}break;case 4:default:Eu(t,e),_u(e);break;case 13:Eu(t,e),_u(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Wu=nt())),4&r&&wu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(nu=(l=nu)||f,Eu(t,e),nu=l):Eu(t,e),_u(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(iu=e,f=e.child;null!==f;){for(h=iu=f;null!==iu;){switch(p=(d=iu).child,d.tag){case 0:case 11:case 14:case 15:uu(4,d,d.return);break;case 1:ou(d,d.return);var y=d.stateNode;if("function"===typeof y.componentWillUnmount){r=d,n=d.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(_e){Dc(r,n,_e)}}break;case 5:ou(d,d.return);break;case 22:if(null!==d.memoizedState){Nu(h);continue}}null!==p?(p.return=d,iu=p):Nu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=me("display",s))}catch(_e){Dc(e,e.return,_e)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(_e){Dc(e,e.return,_e)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Eu(t,e),_u(e),4&r&&wu(e);case 21:}}function _u(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(hu(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(pe(i,""),r.flags&=-33),yu(e,du(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;pu(e,du(e),a);break;default:throw Error(o(161))}}catch(fe){Dc(e,e.return,fe)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Tu(e,t,n){iu=e,Iu(e,t,n)}function Iu(e,t,n){for(var r=0!==(1&e.mode);null!==iu;){var i=iu,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||tu;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||nu;s=tu;var c=nu;if(tu=a,(nu=u)&&!c)for(iu=i;null!==iu;)u=(a=iu).child,22===a.tag&&null!==a.memoizedState?xu(i):null!==u?(u.return=a,iu=u):xu(i);for(;null!==o;)iu=o,Iu(o,t,n),o=o.sibling;iu=i,tu=s,nu=c}ku(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,iu=o):ku(e)}}function ku(e){for(;null!==iu;){var t=iu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:nu||cu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!nu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:us(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Yo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Yo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Gt(h)}}}break;default:throw Error(o(163))}nu||512&t.flags&&lu(t)}catch(Se){Dc(t,t.return,Se)}}if(t===e){iu=null;break}if(null!==(n=t.sibling)){n.return=t.return,iu=n;break}iu=t.return}}function Nu(e){for(;null!==iu;){var t=iu;if(t===e){iu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,iu=n;break}iu=t.return}}function xu(e){for(;null!==iu;){var t=iu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{cu(4,t)}catch(fe){Dc(t,n,fe)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(fe){Dc(t,i,fe)}}var o=t.return;try{lu(t)}catch(fe){Dc(t,o,fe)}break;case 5:var a=t.return;try{lu(t)}catch(fe){Dc(t,a,fe)}}}catch(fe){Dc(t,t.return,fe)}if(t===e){iu=null;break}var s=t.sibling;if(null!==s){s.return=t.return,iu=s;break}iu=t.return}}var Cu,Du=Math.ceil,Au=w.ReactCurrentDispatcher,Pu=w.ReactCurrentOwner,Ou=w.ReactCurrentBatchConfig,Ru=0,Lu=null,Mu=null,Fu=0,Uu=0,Vu=Di(0),ju=0,zu=null,qu=0,Bu=0,Ku=0,Hu=null,Qu=null,Wu=0,Gu=1/0,$u=null,Yu=!1,Xu=null,Ju=null,Zu=!1,ec=null,tc=0,nc=0,rc=null,ic=-1,oc=0;function ac(){return 0!==(6&Ru)?nt():-1!==ic?ic:ic=nt()}function sc(e){return 0===(1&e.mode)?1:0!==(2&Ru)&&0!==Fu?Fu&-Fu:null!==So.transition?(0===oc&&(oc=wt()),oc):0!==(e=Tt)?e:e=void 0===(e=window.event)?16:nn(e.type)}function uc(e,t,n,r){if(50<nc)throw nc=0,rc=null,Error(o(185));St(e,n,r),0!==(2&Ru)&&e===Lu||(e===Lu&&(0===(2&Ru)&&(Bu|=n),4===ju&&dc(e,Fu)),cc(e,r),1===n&&0===Ru&&0===(1&t.mode)&&(Gu=nt()+500,Hi&&Gi()))}function cc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-ft(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=gt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=mt(e,e===Lu?Fu:0);if(0===r)null!==n&&Ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ze(n),1===t)0===e.tag?function(e){Hi=!0,Wi(e)}(pc.bind(null,e)):Wi(pc.bind(null,e)),hi((function(){0===(6&Ru)&&Gi()})),n=null;else{switch(It(r)){case 1:n=it;break;case 4:n=ot;break;case 16:default:n=at;break;case 536870912:n=ut}n=Lc(n,lc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lc(e,t){if(ic=-1,oc=0,0!==(6&Ru))throw Error(o(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=mt(e,e===Lu?Fu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Sc(e,r);else{t=r;var i=Ru;Ru|=2;var a=wc();for(Lu===e&&Fu===t||($u=null,Gu=nt()+500,gc(e,t));;)try{Tc();break}catch(ue){bc(e,ue)}Oo(),Au.current=a,Ru=i,null!==Mu?t=0:(Lu=null,Fu=0,t=ju)}if(0!==t){if(2===t&&(0!==(i=bt(e))&&(r=i,t=fc(e,i))),1===t)throw n=zu,gc(e,0),dc(e,r),cc(e,nt()),n;if(6===t)dc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!dr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Sc(e,r))&&(0!==(a=bt(e))&&(r=a,t=fc(e,a))),1===t))throw n=zu,gc(e,0),dc(e,r),cc(e,nt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Nc(e,Qu,$u);break;case 3:if(dc(e,r),(130023424&r)===r&&10<(t=Wu+500-nt())){if(0!==mt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ac(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ci(Nc.bind(null,e,Qu,$u),t);break}Nc(e,Qu,$u);break;case 4:if(dc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ft(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=nt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Du(r/1960))-r)){e.timeoutHandle=ci(Nc.bind(null,e,Qu,$u),r);break}Nc(e,Qu,$u);break;default:throw Error(o(329))}}}return cc(e,nt()),e.callbackNode===n?lc.bind(null,e):null}function fc(e,t){var n=Hu;return e.current.memoizedState.isDehydrated&&(gc(e,t).flags|=256),2!==(e=Sc(e,t))&&(t=Qu,Qu=n,null!==t&&hc(t)),e}function hc(e){null===Qu?Qu=e:Qu.push.apply(Qu,e)}function dc(e,t){for(t&=~Ku,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ft(t),r=1<<n;e[n]=-1,t&=~r}}function pc(e){if(0!==(6&Ru))throw Error(o(327));xc();var t=mt(e,0);if(0===(1&t))return cc(e,nt()),null;var n=Sc(e,t);if(0!==e.tag&&2===n){var r=bt(e);0!==r&&(t=r,n=fc(e,r))}if(1===n)throw n=zu,gc(e,0),dc(e,t),cc(e,nt()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nc(e,Qu,$u),cc(e,nt()),null}function yc(e,t){var n=Ru;Ru|=1;try{return e(t)}finally{0===(Ru=n)&&(Gu=nt()+500,Hi&&Gi())}}function vc(e){null!==ec&&0===ec.tag&&0===(6&Ru)&&xc();var t=Ru;Ru|=1;var n=Ou.transition,r=Tt;try{if(Ou.transition=null,Tt=1,e)return e()}finally{Tt=r,Ou.transition=n,0===(6&(Ru=t))&&Gi()}}function mc(){Uu=Vu.current,Ai(Vu)}function gc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,li(n)),null!==Mu)for(n=Mu.return;null!==n;){var r=n;switch(so(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Vi();break;case 3:ra(),Ai(Li),Ai(Ri),ca();break;case 5:oa(r);break;case 4:ra();break;case 13:case 19:Ai(aa);break;case 10:Ro(r.type._context);break;case 22:case 23:mc()}n=n.return}if(Lu=e,Mu=e=Vc(e.current,null),Fu=Uu=t,ju=0,zu=null,Ku=Bu=qu=0,Qu=Hu=null,null!==Uo){for(t=0;t<Uo.length;t++)if(null!==(r=(n=Uo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Uo=null}return e}function bc(e,t){for(;;){var n=Mu;try{if(Oo(),la.current=is,va){for(var r=da.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(ha=0,ya=pa=da=null,ma=!1,ga=0,Pu.current=null,null===n||null===n.return){ju=1,zu=t,Mu=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Fu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Ss(s);if(null!==p){p.flags&=-257,_s(p,s,u,0,t),1&p.mode&&Es(a,l,t),c=l;var y=(t=p).updateQueue;if(null===y){var v=new Set;v.add(c),t.updateQueue=v}else y.add(c);break e}if(0===(1&t)){Es(a,l,t),Ec();break e}c=Error(o(426))}else if(lo&&1&u.mode){var m=Ss(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),_s(m,s,u,0,t),Eo(ys(c,u));break e}}a=c=ys(c,u),4!==ju&&(ju=2),null===Hu?Hu=[a]:Hu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Go(a,bs(0,c,t));break e;case 1:u=c;var g=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ju||!Ju.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Go(a,ws(a,u,t));break e}}a=a.return}while(null!==a)}kc(n)}catch(Ie){t=Ie,Mu===n&&null!==n&&(Mu=n=n.return);continue}break}}function wc(){var e=Au.current;return Au.current=is,null===e?is:e}function Ec(){0!==ju&&3!==ju&&2!==ju||(ju=4),null===Lu||0===(268435455&qu)&&0===(268435455&Bu)||dc(Lu,Fu)}function Sc(e,t){var n=Ru;Ru|=2;var r=wc();for(Lu===e&&Fu===t||($u=null,gc(e,t));;)try{_c();break}catch(_p){bc(e,_p)}if(Oo(),Ru=n,Au.current=r,null!==Mu)throw Error(o(261));return Lu=null,Fu=0,ju}function _c(){for(;null!==Mu;)Ic(Mu)}function Tc(){for(;null!==Mu&&!et();)Ic(Mu)}function Ic(e){var t=Cu(e.alternate,e,Uu);e.memoizedProps=e.pendingProps,null===t?kc(e):Mu=t,Pu.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Zs(n,t,Uu)))return void(Mu=n)}else{if(null!==(n=eu(n,t)))return n.flags&=32767,void(Mu=n);if(null===e)return ju=6,void(Mu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Mu=t);Mu=t=e}while(null!==t);0===ju&&(ju=5)}function Nc(e,t,n){var r=Tt,i=Ou.transition;try{Ou.transition=null,Tt=1,function(e,t,n,r){do{xc()}while(null!==ec);if(0!==(6&Ru))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ft(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Lu&&(Mu=Lu=null,Fu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Zu||(Zu=!0,Lc(at,(function(){return xc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ou.transition,Ou.transition=null;var s=Tt;Tt=1;var u=Ru;Ru|=4,Pu.current=null,function(e,t){if(ai=Yt,br(e=gr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(Wt){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===a&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(si={focusedElem:e,selectionRange:n},Yt=!1,iu=t;null!==iu;)if(e=(t=iu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,iu=e;else for(;null!==iu;){t=iu;try{var y=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==y){var v=y.memoizedProps,m=y.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:us(t.type,v),m);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(Wt){Dc(t,t.return,Wt)}if(null!==(e=t.sibling)){e.return=t.return,iu=e;break}iu=t.return}y=su,su=!1}(e,n),Su(n,e),wr(si),Yt=!!ai,si=ai=null,e.current=n,Tu(n,e,i),tt(),Ru=u,Tt=s,Ou.transition=a}else e.current=n;if(Zu&&(Zu=!1,ec=e,tc=i),a=e.pendingLanes,0===a&&(Ju=null),function(e){if(lt&&"function"===typeof lt.onCommitFiberRoot)try{lt.onCommitFiberRoot(ct,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),cc(e,nt()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yu)throw Yu=!1,e=Xu,Xu=null,e;0!==(1&tc)&&0!==e.tag&&xc(),a=e.pendingLanes,0!==(1&a)?e===rc?nc++:(nc=0,rc=e):nc=0,Gi()}(e,t,n,r)}finally{Ou.transition=i,Tt=r}return null}function xc(){if(null!==ec){var e=It(tc),t=Ou.transition,n=Tt;try{if(Ou.transition=null,Tt=16>e?16:e,null===ec)var r=!1;else{if(e=ec,ec=null,tc=0,0!==(6&Ru))throw Error(o(331));var i=Ru;for(Ru|=4,iu=e.current;null!==iu;){var a=iu,s=a.child;if(0!==(16&iu.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(iu=l;null!==iu;){var f=iu;switch(f.tag){case 0:case 11:case 15:uu(8,f,a)}var h=f.child;if(null!==h)h.return=f,iu=h;else for(;null!==iu;){var d=(f=iu).sibling,p=f.return;if(fu(f),f===l){iu=null;break}if(null!==d){d.return=p,iu=d;break}iu=p}}}var y=a.alternate;if(null!==y){var v=y.child;if(null!==v){y.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(null!==v)}}iu=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,iu=s;else e:for(;null!==iu;){if(0!==(2048&(a=iu).flags))switch(a.tag){case 0:case 11:case 15:uu(9,a,a.return)}var g=a.sibling;if(null!==g){g.return=a.return,iu=g;break e}iu=a.return}}var b=e.current;for(iu=b;null!==iu;){var w=(s=iu).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,iu=w;else e:for(s=b;null!==iu;){if(0!==(2048&(u=iu).flags))try{switch(u.tag){case 0:case 11:case 15:cu(9,u)}}catch(Ie){Dc(u,u.return,Ie)}if(u===s){iu=null;break e}var E=u.sibling;if(null!==E){E.return=u.return,iu=E;break e}iu=u.return}}if(Ru=i,Gi(),lt&&"function"===typeof lt.onPostCommitFiberRoot)try{lt.onPostCommitFiberRoot(ct,e)}catch(Ie){}r=!0}return r}finally{Tt=n,Ou.transition=t}}return!1}function Cc(e,t,n){e=Qo(e,t=bs(0,t=ys(n,t),1),1),t=ac(),null!==e&&(St(e,1,t),cc(e,t))}function Dc(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){t=Qo(t,e=ws(t,e=ys(n,e),1),1),e=ac(),null!==t&&(St(t,1,e),cc(t,e));break}}t=t.return}}function Ac(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ac(),e.pingedLanes|=e.suspendedLanes&n,Lu===e&&(Fu&n)===n&&(4===ju||3===ju&&(130023424&Fu)===Fu&&500>nt()-Wu?gc(e,0):Ku|=n),cc(e,t)}function Pc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=yt,0===(130023424&(yt<<=1))&&(yt=4194304)));var n=ac();null!==(e=zo(e,t))&&(St(e,t,n),cc(e,n))}function Oc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Pc(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Pc(e,n)}function Lc(e,t){return Je(e,t)}function Mc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fc(e,t,n,r){return new Mc(e,t,n,r)}function Uc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vc(e,t){var n=e.alternate;return null===n?((n=Fc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Uc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return zc(n.children,i,a,t);case T:s=8,i|=8;break;case I:return(e=Fc(12,n,t,2|i)).elementType=I,e.lanes=a,e;case C:return(e=Fc(13,n,t,i)).elementType=C,e.lanes=a,e;case D:return(e=Fc(19,n,t,i)).elementType=D,e.lanes=a,e;case O:return qc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case N:s=9;break e;case x:s=11;break e;case A:s=14;break e;case P:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Fc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function zc(e,t,n,r){return(e=Fc(7,e,r,t)).lanes=n,e}function qc(e,t,n,r){return(e=Fc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return(e=Fc(6,e,null,t)).lanes=n,e}function Kc(e,t,n){return(t=Fc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Et(0),this.expirationTimes=Et(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Et(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qc(e,t,n,r,i,o,a,s,u){return e=new Hc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Fc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bo(o),e}function Wc(e){if(!e)return Oi;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ui(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ui(n))return zi(e,n,t)}return t}function Gc(e,t,n,r,i,o,a,s,u){return(e=Qc(n,r,!0,e,0,o,0,s,u)).context=Wc(null),n=e.current,(o=Ho(r=ac(),i=sc(n))).callback=void 0!==t&&null!==t?t:null,Qo(n,o,i),e.current.lanes=i,St(e,i,r),cc(e,r),e}function $c(e,t,n,r){var i=t.current,o=ac(),a=sc(i);return n=Wc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ho(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Qo(i,t,a))&&(uc(e,i,a,o),Wo(e,i,a)),a}function Yc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Xc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Jc(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}Cu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Li.current)Is=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Is=!1,function(e,t,n){switch(t.tag){case 3:Ls(t),wo();break;case 5:ia(t);break;case 1:Ui(t.type)&&qi(t);break;case 4:na(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Pi(Co,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Pi(aa,1&aa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bs(e,t,n):(Pi(aa,1&aa.current),null!==(e=Ys(e,t,n))?e.sibling:null);Pi(aa,1&aa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Gs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pi(aa,aa.current),r)break;return null;case 22:case 23:return t.lanes=0,Ds(e,t,n)}return Ys(e,t,n)}(e,t,n);Is=0!==(131072&e.flags)}else Is=!1,lo&&0!==(1048576&t.flags)&&oo(t,Ji,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$s(e,t),e=t.pendingProps;var i=Fi(t,Ri.current);Mo(t,n),i=Sa(null,t,r,e,i,n);var a=_a();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ui(r)?(a=!0,qi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Bo(t),i.updater=ls,t.stateNode=i,i._reactInternals=t,ps(t,r,e,n),t=Rs(null,t,r,!0,a,n)):(t.tag=0,lo&&a&&ao(t),ks(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($s(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Uc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===A)return 14}return 2}(r),e=us(r,e),i){case 0:t=Ps(null,t,r,e,n);break e;case 1:t=Os(null,t,r,e,n);break e;case 11:t=Ns(null,t,r,e,n);break e;case 14:t=xs(null,t,r,us(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ps(e,t,r,i=t.elementType===r?i:us(r,i),n);case 1:return r=t.type,i=t.pendingProps,Os(e,t,r,i=t.elementType===r?i:us(r,i),n);case 3:e:{if(Ls(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ko(e,t),$o(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ms(e,t,r,n,i=ys(Error(o(423)),t));break e}if(r!==i){t=Ms(e,t,r,n,i=ys(Error(o(424)),t));break e}for(co=yi(t.stateNode.containerInfo.firstChild),uo=t,lo=!0,fo=null,n=xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(wo(),r===i){t=Ys(e,t,n);break e}ks(e,t,r,n)}t=t.child}return t;case 5:return ia(t),null===e&&vo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ui(r,i)?s=null:null!==a&&ui(r,a)&&(t.flags|=32),As(e,t),ks(e,t,s,n),t.child;case 6:return null===e&&vo(t),null;case 13:return Bs(e,t,n);case 4:return na(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=No(t,null,r,n):ks(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:us(r,i),n);case 7:return ks(e,t,t.pendingProps,n),t.child;case 8:case 12:return ks(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Pi(Co,r._currentValue),r._currentValue=s,null!==a)if(dr(a.value,s)){if(a.children===i.children&&!Li.current){t=Ys(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ho(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Lo(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Lo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ks(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Mo(t,n),r=r(i=Fo(i)),t.flags|=1,ks(e,t,r,n),t.child;case 14:return i=us(r=t.type,t.pendingProps),xs(e,t,r,i=us(r.type,i),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:us(r,i),$s(e,t),t.tag=1,Ui(r)?(e=!0,qi(t)):e=!1,Mo(t,n),hs(t,r,i),ps(t,r,i,n),Rs(null,t,r,!0,e,n);case 19:return Gs(e,t,n);case 22:return Ds(e,t,n)}throw Error(o(156,t.tag))};var Zc="function"===typeof reportError?reportError:function(e){console.error(e)};function el(e){this._internalRoot=e}function tl(e){this._internalRoot=e}function nl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function rl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function il(){}function ol(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Yc(a);s.call(e)}}$c(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Yc(a);o.call(e)}}var a=Gc(t,r,e,0,null,!1,0,"",il);return e._reactRootContainer=a,e[wi]=a.current,Gr(8===e.nodeType?e.parentNode:e),vc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Yc(u);s.call(e)}}var u=Qc(e,0,!1,null,0,!1,0,"",il);return e._reactRootContainer=u,e[wi]=u.current,Gr(8===e.nodeType?e.parentNode:e),vc((function(){$c(t,u,n,r)})),u}(n,t,e,i,r);return Yc(a)}tl.prototype.render=el.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));$c(e,t,null,null)},tl.prototype.unmount=el.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;vc((function(){$c(null,e,null,null)})),t[wi]=null}},tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ut.length&&0!==t&&t<Ut[n].priority;n++);Ut.splice(n,0,e),0===n&&qt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vt(t.pendingLanes);0!==n&&(_t(t,1|n),cc(t,nt()),0===(6&Ru)&&(Gu=nt()+500,Gi()))}break;case 13:vc((function(){var t=zo(e,1);if(null!==t){var n=ac();uc(t,e,1,n)}})),Jc(e,1)}},Nt=function(e){if(13===e.tag){var t=zo(e,134217728);if(null!==t)uc(t,e,134217728,ac());Jc(e,134217728)}},xt=function(e){if(13===e.tag){var t=sc(e),n=zo(e,t);if(null!==n)uc(n,e,t,ac());Jc(e,t)}},Ct=function(){return Tt},Dt=function(e,t){var n=Tt;try{return Tt=e,t()}finally{Tt=n}},Ne=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ni(r);if(!i)throw Error(o(90));W(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Oe=yc,Re=vc;var al={usingClientEntryPoint:!1,Events:[Ii,ki,Ni,Ae,Pe,yc]},sl={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:sl.bundleType,version:sl.version,rendererPackageName:sl.rendererPackageName,rendererConfig:sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:sl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{ct=cl.inject(ul),lt=cl}catch(he){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=al,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!nl(e))throw Error(o(299));var n=!1,r="",i=Zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Qc(e,1,!1,null,0,n,0,r,i),e[wi]=t.current,Gr(8===e.nodeType?e.parentNode:e),new el(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e){return vc(e)},t.hydrate=function(e,t,n){if(!rl(t))throw Error(o(200));return ol(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!nl(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Zc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Gc(t,null,e,1,null!=n?n:null,i,0,a,s),e[wi]=t.current,Gr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new tl(t)},t.render=function(e,t,n){if(!rl(t))throw Error(o(200));return ol(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!rl(e))throw Error(o(40));return!!e._reactRootContainer&&(vc((function(){ol(null,null,e,!1,(function(){e._reactRootContainer=null,e[wi]=null}))})),!0)},t.unstable_batchedUpdates=yc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!rl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ol(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var w=b.prototype=new g;w.constructor=b,y(w,m.prototype),w.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!T.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:_.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+x(u,0):o,E(a)?(i="",null!=e&&(i=e.replace(N,"$&/")+"/"),C(a,t,i,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(N,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",E(e))for(var c=0;c<e.length;c++){var l=o+x(s=e[c],c);u+=C(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,l=o+x(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function D(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=y({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)S.call(t,c)&&!T.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,y=!1,v=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function E(e){if(v=!1,w(e),!y)if(null!==r(c))y=!0,O(S);else{var t=r(l);null!==t&&R(E,t.startTime-e)}}function S(e,n){y=!1,v&&(v=!1,g(k),k=-1),p=!0;var o=d;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var a=h.callback;if("function"===typeof a){h.callback=null,d=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&R(E,f.startTime-n),u=!1}return u}finally{h=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,T=!1,I=null,k=-1,N=5,x=-1;function C(){return!(t.unstable_now()-x<N)}function D(){if(null!==I){var e=t.unstable_now();x=e;var n=!0;try{n=I(!0,e)}finally{n?_():(T=!1,I=null)}}else T=!1}if("function"===typeof b)_=function(){b(D)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=D,_=function(){P.postMessage(null)}}else _=function(){m(D,0)};function O(e){I=e,T||(T=!0,_())}function R(e,n){k=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,O(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(v?(g(k),k=-1):v=!0,R(E,o-a))):(e.sortIndex=s,n(c,e),y||p||(y=!0,O(S))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},853:(e,t,n)=>{e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(_p){if("object"===typeof window)return window}}(),n.p="/leave-message/";var r=n(43),i=n(391);const o=n.p+"static/media/avatar-iveta.4f59e82acb636ffd9c2f.png";var a=n(579);const s=e=>{let{closePopup:t,getName:n,getMessage:r,sendMessage:i,nameValue:o,messageValue:s}=e;return(0,a.jsxs)("div",{className:"message-form-popup",children:[(0,a.jsxs)("form",{onSubmit:i,className:"message-form",children:[(0,a.jsx)("input",{onChange:n,placeholder:"your name",className:"input-name",type:"text",value:o}),(0,a.jsx)("input",{onChange:r,placeholder:"your message",className:"input-text",id:"input-message",type:"text",value:s}),(0,a.jsx)("textarea",{onChange:r,placeholder:"your message",className:"input-text",value:s,maxLength:200,onKeyDown:e=>{"Enter"===e.key&&s&&o&&i(e)}}),(0,a.jsx)("input",{value:"send",className:"input-submit",type:"submit"})]}),(0,a.jsx)("button",{className:"closeButton",onClick:t,children:"X"})]})};var u=function(e,t){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},u(e,t)};function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)};function f(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(_p){o(_p)}}function s(e){try{u(r.throw(e))}catch(_p){o(_p)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(_p){s=[6,_p],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function d(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var v=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},m={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(v(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};function g(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=g(e[n],t[n]));return e}var b=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function w(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function E(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(_p){return!1}}var S=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,_.prototype.create),o}return c(t,e),t}(Error),_=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?function(e,t){return e.replace(T,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").";return new S(i,s,r)},e}();var T=/\{\$([^}]+)}/g;function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();function k(e,t){var n=new N(e,t);return n.subscribe.bind(n)}var N=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=x),void 0===r.error&&(r.error=x),void 0===r.complete&&(r.complete=x);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(_p){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(_p){"undefined"!==typeof console&&console.error&&console.error(_p)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function x(){}function C(e){return e&&e._delegate?e._delegate:e}var D=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),A="[DEFAULT]",P=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return e.prototype.get=function(e){void 0===e&&(e=A);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new b;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(_p){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=l({identifier:A,optional:!1},e),n=t.identifier,r=t.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(_p){if(r)return null;throw _p}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:A})}catch(_p){}try{for(var r=d(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=p(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(_p){}}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=A),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return f(this,void 0,void 0,(function(){var e;return h(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(y(y([],p(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),p(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=A),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.instanceIdentifier,i=void 0===r?A:r,o=e.options,a=void 0===o?{}:o,s=this.normalizeInstanceIdentifier(i);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:a});try{for(var c=d(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var f=p(l.value,2),h=f[0],y=f[1];s===this.normalizeInstanceIdentifier(h)&&y.resolve(u)}}catch(v){t={error:v}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return this.invokeOnInitCallbacks(u,s),u},e.prototype.onInit=function(e){var t=this;return this.onInitCallbacks.add(e),function(){t.onInitCallbacks.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r;try{for(var i=d(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(e,t)}catch(s){}}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===A?void 0:t),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(sp){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:A:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var O,R=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new P(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function L(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var M,F=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(M||(M={}));var U,V={debug:M.DEBUG,verbose:M.VERBOSE,info:M.INFO,warn:M.WARN,error:M.ERROR,silent:M.SILENT},j=M.INFO,z=((O={})[M.DEBUG]="log",O[M.VERBOSE]="log",O[M.INFO]="info",O[M.WARN]="warn",O[M.ERROR]="error",O),q=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=z[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,L(["["+i+"]  "+e.name+":"],n))}},B=function(){function e(e){this.name=e,this._logLevel=j,this._logHandler=q,this._userLogHandler=null,F.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in M))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?V[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,L([this,M.DEBUG],e)),this._logHandler.apply(this,L([this,M.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,L([this,M.VERBOSE],e)),this._logHandler.apply(this,L([this,M.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,L([this,M.INFO],e)),this._logHandler.apply(this,L([this,M.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,L([this,M.WARN],e)),this._logHandler.apply(this,L([this,M.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,L([this,M.ERROR],e)),this._logHandler.apply(this,L([this,M.ERROR],e))},e}();function K(e){F.forEach((function(t){t.setLogLevel(e)}))}var H,Q=((U={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",U["bad-app-name"]="Illegal App name: '{$appName}",U["duplicate-app"]="Firebase App named '{$appName}' already exists",U["app-deleted"]="Firebase App named '{$appName}' already deleted",U["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",U["invalid-log-argument"]="First argument to `onLog` must be null or a function.",U),W=new _("app","Firebase",Q),G="@firebase/app",$="[DEFAULT]",Y=((H={})[G]="fire-core",H["@firebase/analytics"]="fire-analytics",H["@firebase/app-check"]="fire-app-check",H["@firebase/auth"]="fire-auth",H["@firebase/database"]="fire-rtdb",H["@firebase/functions"]="fire-fn",H["@firebase/installations"]="fire-iid",H["@firebase/messaging"]="fire-fcm",H["@firebase/performance"]="fire-perf",H["@firebase/remote-config"]="fire-rc",H["@firebase/storage"]="fire-gcs",H["@firebase/firestore"]="fire-fst",H["fire-js"]="fire-js",H["firebase-wrapper"]="fire-js-all",H),X=new B("@firebase/app"),J=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=g(void 0,e),this.container=new R(t.name),this._addComponent(new D("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=$),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=$),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(_p){X.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,_p)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw W.create("app-deleted",{appName:this.name_})},e}();J.prototype.name&&J.prototype.options||J.prototype.delete||console.log("dc");function Z(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=$);var a=o.name;if("string"!==typeof a||!a)throw W.create("bad-app-name",{appName:String(a)});if(I(t,a))throw W.create("duplicate-app",{appName:a});var s=new e(n,o,r);return t[a]=s,s},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=Y[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void X.warn(u.join(" "))}o(new D(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:K,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw W.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=V[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:M[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=F;r<i.length;r++)n(i[r])}(e,t)},apps:null,SDK_VERSION:"8.5.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!I(t,e=e||$))throw W.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return X.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[a])throw W.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&g(s,o.serviceProps),r[a]=s,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,a).apply(this,o.multipleInstances?e:[])}}for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}var ee=function e(){var t=Z(J);return t.INTERNAL=l(l({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){g(t,e)},createSubscribe:k,ErrorFactory:_,deepExtend:g}),t}(),te=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if("object"===typeof self&&self.self===self&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ne=self.firebase.SDK_VERSION;ne&&ne.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var re=ee.initializeApp;ee.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return E()&&X.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),re.apply(void 0,e)};var ie=ee;!function(e,t){e.INTERNAL.registerComponent(new D("platform-logger",(function(e){return new te(e)}),"PRIVATE")),e.registerVersion(G,"0.6.21",t),e.registerVersion("fire-js","")}(ie);const oe=ie;oe.registerVersion("firebase","8.5.0","app");var ae=function(e,t){return ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ae(e,t)};function se(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var ue,ce="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},le=le||{},fe=ce||self;function he(){}function de(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function pe(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ye="closure_uid_"+(1e9*Math.random()>>>0),ve=0;function me(e,t,n){return e.call.apply(e.bind,arguments)}function ge(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function be(e,t,n){return(be=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?me:ge).apply(null,arguments)}function we(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ee(){return Date.now()}function Se(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function _e(){this.j=this.j,this.i=this.i}_e.prototype.j=!1,_e.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(e){Object.prototype.hasOwnProperty.call(e,ye)&&e[ye]||(e[ye]=++ve)})(this)},_e.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Te=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ie=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function ke(e){return Array.prototype.concat.apply([],arguments)}function Ne(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function xe(e){return/^[\s\xa0]*$/.test(e)}var Ce,De=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ae(e,t){return-1!=e.indexOf(t)}function Pe(e,t){return e<t?-1:e>t?1:0}e:{var Oe=fe.navigator;if(Oe){var Re=Oe.userAgent;if(Re){Ce=Re;break e}}Ce=""}function Le(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Me(e){var t={};for(var n in e)t[n]=e[n];return t}var Fe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ue(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Fe.length;o++)n=Fe[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ve(e){return Ve[" "](e),e}Ve[" "]=he;var je,ze=Ae(Ce,"Opera"),qe=Ae(Ce,"Trident")||Ae(Ce,"MSIE"),Be=Ae(Ce,"Edge"),Ke=Be||qe,He=Ae(Ce,"Gecko")&&!(Ae(Ce.toLowerCase(),"webkit")&&!Ae(Ce,"Edge"))&&!(Ae(Ce,"Trident")||Ae(Ce,"MSIE"))&&!Ae(Ce,"Edge"),Qe=Ae(Ce.toLowerCase(),"webkit")&&!Ae(Ce,"Edge");function We(){var e=fe.document;return e?e.documentMode:void 0}e:{var Ge="",$e=function(){var e=Ce;return He?/rv:([^\);]+)(\)|;)/.exec(e):Be?/Edge\/([\d\.]+)/.exec(e):qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Qe?/WebKit\/(\S+)/.exec(e):ze?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if($e&&(Ge=$e?$e[1]:""),qe){var Ye=We();if(null!=Ye&&Ye>parseFloat(Ge)){je=String(Ye);break e}}je=Ge}var Xe,Je={};function Ze(e){return function(e,t){var n=Je;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=De(String(je)).split("."),r=De(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=Pe(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Pe(0==a[2].length,0==s[2].length)||Pe(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(fe.document&&qe){var et=We();Xe=et||(parseInt(je,10)||void 0)}else Xe=void 0;var tt=Xe,nt=!qe||9<=Number(tt),rt=qe&&!Ze("9"),it=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{fe.addEventListener("test",he,t),fe.removeEventListener("test",he,t)}catch(n){}return e}();function ot(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function at(e,t){if(ot.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(He){e:{try{Ve(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:st[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.defaultPrevented=!0},Se(at,ot);var st={2:"touch",3:"pen",4:"mouse"};at.prototype.b=function(){at.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,rt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var ut="closure_listenable_"+(1e6*Math.random()|0),ct=0;function lt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++ct,this.Y=this.Z=!1}function ft(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function ht(e){this.src=e,this.a={},this.b=0}function dt(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=Te(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ft(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function pt(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}ht.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=pt(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new lt(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var yt="closure_lm_"+(1e6*Math.random()|0),vt={};function mt(e,t,n,r,i){if(r&&r.once)return bt(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)mt(e,t[o],n,r,i);return null}return n=Nt(n),e&&e[ut]?e.va(t,n,pe(r)?!!r.capture:!!r,i):gt(e,t,n,!1,r,i)}function gt(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=pe(i)?!!i.capture:!!i;if(a&&!nt)return null;var s=It(e);if(s||(e[yt]=s=new ht(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Tt,t=nt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)it||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(St(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function bt(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)bt(e,t[o],n,r,i);return null}return n=Nt(n),e&&e[ut]?e.wa(t,n,pe(r)?!!r.capture:!!r,i):gt(e,t,n,!0,r,i)}function wt(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)wt(e,t[o],n,r,i);else r=pe(r)?!!r.capture:!!r,n=Nt(n),e&&e[ut]?(e=e.c,(t=String(t).toString())in e.a&&(-1<(n=pt(o=e.a[t],n,r,i))&&(ft(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=It(e))&&(t=e.a[t.toString()],e=-1,t&&(e=pt(t,n,r,i)),(n=-1<e?t[e]:null)&&Et(n))}function Et(e){if("number"!==typeof e&&e&&!e.Y){var t=e.src;if(t&&t[ut])dt(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(St(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=It(t))?(dt(n,e),0==n.b&&(n.src=null,t[yt]=null)):ft(e)}}}function St(e){return e in vt?vt[e]:vt[e]="on"+e}function _t(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&Et(e),n.call(r,t)}function Tt(e,t){if(e.Y)return!0;if(!nt){if(!t)e:{t=["window","event"];for(var n=fe,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return _t(e,t=new at(t,this))}return _t(e,new at(t,this))}function It(e){return(e=e[yt])instanceof ht?e:null}var kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nt(e){return"function"===typeof e?e:(e[kt]||(e[kt]=function(t){return e.handleEvent(t)}),e[kt])}function xt(){_e.call(this),this.c=new ht(this),this.J=this,this.C=null}function Ct(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"===typeof t)t=new ot(t,e);else if(t instanceof ot)t.target=t.target||e;else{var i=t;Ue(t=new ot(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=Dt(a,r,!0,t)&&i}if(i=Dt(a=t.a=e,r,!0,t)&&i,i=Dt(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Dt(a=t.a=n[o],r,!1,t)&&i}function Dt(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&dt(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Se(xt,_e),xt.prototype[ut]=!0,(ue=xt.prototype).addEventListener=function(e,t,n,r){mt(this,e,t,n,r)},ue.removeEventListener=function(e,t,n,r){wt(this,e,t,n,r)},ue.G=function(){if(xt.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)ft(n[r]);delete t.a[e],t.b--}}this.C=null},ue.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},ue.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var At=fe.JSON.stringify;function Pt(){this.b=this.a=null}var Ot,Rt=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new Mt}),(function(e){e.reset()}));function Lt(){var e=jt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Mt(){this.next=this.b=this.a=null}function Ft(e){fe.setTimeout((function(){throw e}),0)}function Ut(e,t){Ot||function(){var e=fe.Promise.resolve(void 0);Ot=function(){e.then(zt)}}(),Vt||(Ot(),Vt=!0),jt.add(e,t)}Pt.prototype.add=function(e,t){var n=Rt.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Mt.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Mt.prototype.reset=function(){this.next=this.b=this.a=null};var Vt=!1,jt=new Pt;function zt(){for(var e;e=Lt();){try{e.a.call(e.b)}catch(n){Ft(n)}var t=Rt;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Vt=!1}function qt(e,t){xt.call(this),this.b=e||1,this.a=t||fe,this.f=be(this.Za,this),this.g=Ee()}function Bt(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function Kt(e,t,n){if("function"===typeof e)n&&(e=be(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=be(e.handleEvent,e)}return 2147483647<Number(t)?-1:fe.setTimeout(e,t||0)}function Ht(e){e.a=Kt((function(){e.a=null,e.c&&(e.c=!1,Ht(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}Se(qt,xt),(ue=qt.prototype).aa=!1,ue.M=null,ue.Za=function(){if(this.aa){var e=Ee()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ct(this,"tick"),this.aa&&(Bt(this),this.start()))}},ue.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ee())},ue.G=function(){qt.X.G.call(this),Bt(this),delete this.a};var Qt=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}ae(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:Ht(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(fe.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(_e);function Wt(e){_e.call(this),this.b=e,this.a={}}Se(Wt,_e);var Gt=[];function $t(e,t,n,r){Array.isArray(n)||(n&&(Gt[0]=n.toString()),n=Gt);for(var i=0;i<n.length;i++){var o=mt(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Yt(e){Le(e.a,(function(e,t){this.a.hasOwnProperty(t)&&Et(e)}),e),e.a={}}function Xt(){this.a=!0}function Jt(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return At(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Wt.prototype.G=function(){Wt.X.G.call(this),Yt(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xt.prototype.info=function(){};var Zt={},en=null;function tn(){return en=en||new xt}function nn(e){ot.call(this,Zt.Fa,e)}function rn(e){var t=tn();Ct(t,new nn(t,e))}function on(e,t){ot.call(this,Zt.STAT_EVENT,e),this.stat=t}function an(e){var t=tn();Ct(t,new on(t,e))}function sn(e){ot.call(this,Zt.Ga,e)}function un(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return fe.setTimeout((function(){e()}),t)}Zt.Fa="serverreachability",Se(nn,ot),Zt.STAT_EVENT="statevent",Se(on,ot),Zt.Ga="timingevent",Se(sn,ot);var cn={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},ln={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function fn(){}function hn(e){var t;return(t=e.a)||(t=e.a={}),t}function dn(){}fn.prototype.a=null;var pn,yn={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function vn(){ot.call(this,"d")}function mn(){ot.call(this,"c")}function gn(){}function bn(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new Wt(this),this.P=wn,e=Ke?125:void 0,this.R=new qt(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Se(vn,ot),Se(mn,ot),Se(gn,fn),pn=new gn;var wn=45e3,En={},Sn={};function _n(e,t,n){e.H=1,e.i=Hn(Vn(t)),e.j=n,e.I=!0,Tn(e,null)}function Tn(e,t){e.u=Ee(),Nn(e),e.l=Vn(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),ir(n.b,"t",r),e.D=0,e.a=Jr(e.g,e.g.C?t:null),0<e.O&&(e.F=new Qt(be(e.Ca,e,e.a),e.O)),$t(e.J,e.a,"readystatechange",e.Xa),t=e.B?Me(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),rn(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function In(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=kn(e,n);if(i==Sn){4==t&&(e.h=4,an(14),r=!1),Jt(e.c,e.f,null,"[Incomplete Response]");break}if(i==En){e.h=4,an(15),Jt(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}Jt(e.c,e.f,i,null),Pn(e,i)}4==t&&0==n.length&&(e.h=1,an(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kr(t),t.F=!0,an(11))):(Jt(e.c,e.f,n,"[Invalid Chunked Response]"),An(e),Dn(e))}function kn(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?Sn:(n=Number(t.substring(n,r)),isNaN(n)?En:(r+=1)+n>t.length?Sn:(t=t.substr(r,n),e.D=r+n,t))}function Nn(e){e.T=Ee()+e.P,xn(e,e.P)}function xn(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=un(be(e.Va,e),t)}function Cn(e){e.o&&(fe.clearTimeout(e.o),e.o=null)}function Dn(e){0==e.g.v||e.A||Wr(e.g,e)}function An(e){Cn(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,Bt(e.R),Yt(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Pn(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||fr(n.b,e)))if(n.I=e.N,!e.C&&fr(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(Ud){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;Qr(n),Lr(n)}Br(n),an(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=un(be(n.Sa,n),6e3));if(1>=lr(n.b)&&n.ea){try{n.ea()}catch(Ud){}n.ea=void 0}}else $r(n,11)}else if((e.C||n.a==e)&&Qr(n),!xe(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"===typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=u.b;!f.a&&(Ae(l,"spdy")||Ae(l,"quic")||Ae(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(hr(f,f.b),f.b=null))}if(u.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(u.na=h,Kn(u.B,u.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ee()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((u=n).la=Xr(u,u.C?u.ga:null,u.fa),d.C){dr(u.b,d);var p=d,y=u.D;y&&p.setTimeout(y),p.o&&(Cn(p),Nn(p)),u.a=d}else qr(u);0<n.g.length&&Ur(n)}else"stop"!=i[0]&&"close"!=i[0]||$r(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?$r(n,7):Rr(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);rn(4)}catch(Ud){}}function On(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(de(e)||"string"===typeof e)Ie(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(de(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"===typeof e)return e.split("");if(de(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Rn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Rn)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ln(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Mn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Mn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Mn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ue=bn.prototype).setTimeout=function(e){this.P=e},ue.Xa=function(e){e=e.target;var t=this.F;t&&3==Dr(e)?t.f():this.Ca(e)},ue.Ca=function(e){try{if(e==this.a)e:{var t=Dr(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||3==t&&!Ke&&!this.a.$())){this.A||4!=t||7==n||rn(8==n||0>=r?3:2),Cn(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xe(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,an(12),An(this),Dn(this);break e}Jt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Pn(this,u)}this.I?(In(this,t,o),Ke&&this.b&&3==t&&($t(this.J,this.R,"tick",this.Wa),this.R.start())):(Jt(this.c,this.f,o,null),Pn(this,o)),4==t&&An(this),this.b&&!this.A&&(4==t?Wr(this.g,this):(this.b=!1,Nn(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,an(12)):(this.h=0,an(13)),An(this),Dn(this)}}}catch(c){}},ue.Wa=function(){if(this.a){var e=Dr(this.a),t=this.a.$();this.D<t.length&&(Cn(this),In(this,e,t),this.b&&4!=e&&Nn(this))}},ue.cancel=function(){this.A=!0,An(this)},ue.Va=function(){this.o=null;var e=Ee();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(rn(3),an(17)),An(this),this.h=2,Dn(this)):xn(this,this.T-e)},(ue=Rn.prototype).K=function(){Ln(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},ue.L=function(){return Ln(this),this.a.concat()},ue.get=function(e,t){return Mn(this.b,e)?this.b[e]:t},ue.set=function(e,t){Mn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},ue.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Fn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Un(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Un){this.a=void 0!==t?t:e.a,jn(this,e.f),this.j=e.j,zn(this,e.c),qn(this,e.h),this.g=e.g,t=e.b;var n=new er;n.c=t.c,t.a&&(n.a=new Rn(t.a),n.b=t.b),Bn(this,n),this.i=e.i}else e&&(n=String(e).match(Fn))?(this.a=!!t,jn(this,n[1]||"",!0),this.j=Qn(n[2]||""),zn(this,n[3]||"",!0),qn(this,n[4]),this.g=Qn(n[5]||"",!0),Bn(this,n[6]||"",!0),this.i=Qn(n[7]||"")):(this.a=!!t,this.b=new er(null,this.a))}function Vn(e){return new Un(e)}function jn(e,t,n){e.f=n?Qn(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function zn(e,t,n){e.c=n?Qn(t,!0):t}function qn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Bn(e,t,n){t instanceof er?(e.b=t,function(e,t){t&&!e.f&&(tr(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(nr(this,t),ir(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Wn(t,Jn)),e.b=new er(t,e.a))}function Kn(e,t,n){e.b.set(t,n)}function Hn(e){return Kn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ee()).toString(36)),e}function Qn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Wn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Gn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Un.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Wn(t,$n,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Wn(t,$n,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Wn(n,"/"==n.charAt(0)?Xn:Yn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Wn(n,Zn)),e.join("")};var $n=/[#\/\?@]/g,Yn=/[#\?:]/g,Xn=/[#\?]/g,Jn=/[#\?@]/g,Zn=/#/g;function er(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function tr(e){e.a||(e.a=new Rn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function nr(e,t){tr(e),t=or(e,t),Mn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Mn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Ln(e)))}function rr(e,t){return tr(e),t=or(e,t),Mn(e.a.b,t)}function ir(e,t,n){nr(e,t),0<n.length&&(e.c=null,e.a.set(or(e,t),Ne(n)),e.b+=n.length)}function or(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(ue=er.prototype).add=function(e,t){tr(this),this.c=null,e=or(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},ue.forEach=function(e,t){tr(this),this.a.forEach((function(n,r){Ie(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ue.L=function(){tr(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},ue.K=function(e){tr(this);var t=[];if("string"===typeof e)rr(this,e)&&(t=ke(t,this.a.get(or(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=ke(t,e[n])}return t},ue.set=function(e,t){return tr(this),this.c=null,rr(this,e=or(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},ue.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},ue.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var ar=function(e,t){this.b=e,this.a=t};function sr(e){this.g=e||ur,fe.PerformanceNavigationTiming?e=0<(e=fe.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(fe.ia&&fe.ia.ya&&fe.ia.ya()&&fe.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ur=10;function cr(e){return!!e.b||!!e.a&&e.a.size>=e.f}function lr(e){return e.b?1:e.a?e.a.size:0}function fr(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function hr(e,t){e.a?e.a.add(t):e.b=t}function dr(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function pr(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=se(e.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Ne(e.c)}function yr(){}function vr(){this.a=new yr}function mr(e,t,n){var r=n||"";try{On(e,(function(e,n){var i=e;pe(e)&&(i=At(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(_p){throw t.push(r+"type="+encodeURIComponent("_badmap")),_p}}function gr(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}sr.prototype.cancel=function(){var e,t;if(this.c=pr(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=se(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},yr.prototype.stringify=function(e){return fe.JSON.stringify(e,void 0)},yr.prototype.parse=function(e){return fe.JSON.parse(e,void 0)};var br=fe.JSON.parse;function wr(e){xt.call(this),this.headers=new Rn,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Er,this.D=this.F=!1}Se(wr,xt);var Er="",Sr=/^https?$/i,_r=["POST","PUT"];function Tr(e){return"content-type"==e.toLowerCase()}function Ir(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,kr(e),xr(e)}function kr(e){e.u||(e.u=!0,Ct(e,"complete"),Ct(e,"error"))}function Nr(e){if(e.b&&"undefined"!=typeof le&&(!e.s[1]||4!=Dr(e)||2!=e.W()))if(e.l&&4==Dr(e))Kt(e.za,0,e);else if(Ct(e,"readystatechange"),4==Dr(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(Fn)[1]||null;if(!o&&fe.self&&fe.self.location){var a=fe.self.location.protocol;o=a.substr(0,a.length-1)}i=!Sr.test(o?o.toLowerCase():"")}t=i}if(t)Ct(e,"complete"),Ct(e,"success");else{e.h=6;try{var s=2<Dr(e)?e.a.statusText:""}catch(n){s=""}e.f=s+" ["+e.W()+"]",kr(e)}}finally{xr(e)}}}function xr(e,t){if(e.a){Cr(e);var n=e.a,r=e.s[0]?he:null;e.a=null,e.s=null,t||Ct(e,"ready");try{n.onreadystatechange=r}catch(_p){}}}function Cr(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(fe.clearTimeout(e.m),e.m=null)}function Dr(e){return e.a?e.a.readyState:0}function Ar(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Le(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Kn(e,t,n))}function Pr(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Or(e){this.pa=0,this.g=[],this.c=new Xt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Pr("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Pr("baseRetryDelayMs",5e3,e),this.Ra=Pr("retryDelaySeedMs",1e4,e),this.Ma=Pr("forwardChannelMaxRetries",2,e),this.ma=Pr("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new sr(e&&e.concurrentRequestLimit),this.ka=new vr,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Rr(e){if(Mr(e),3==e.v){var t=e.R++,n=Vn(e.B);Kn(n,"SID",e.J),Kn(n,"RID",t),Kn(n,"TYPE","terminate"),jr(e,n),(t=new bn(e,e.c,t,void 0)).H=2,t.i=Hn(Vn(n)),n=!1,fe.navigator&&fe.navigator.sendBeacon&&(n=fe.navigator.sendBeacon(t.i.toString(),"")),!n&&fe.Image&&((new Image).src=t.i,n=!0),n||(t.a=Jr(t.g,null),t.a.ba(t.i)),t.u=Ee(),Nn(t)}Yr(e)}function Lr(e){e.a&&(Kr(e),e.a.cancel(),e.a=null)}function Mr(e){Lr(e),e.j&&(fe.clearTimeout(e.j),e.j=null),Qr(e),e.b.cancel(),e.h&&("number"===typeof e.h&&fe.clearTimeout(e.h),e.h=null)}function Fr(e,t){e.g.push(new ar(e.Oa++,t)),3==e.v&&Ur(e)}function Ur(e){cr(e.b)||e.h||(e.h=!0,Ut(e.Ba,e),e.u=0)}function Vr(e,t){var n;n=t?t.f:e.R++;var r=Vn(e.B);Kn(r,"SID",e.J),Kn(r,"RID",n),Kn(r,"AID",e.P),jr(e,r),e.i&&e.l&&Ar(r,e.i,e.l),n=new bn(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=zr(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),hr(e.b,n),_n(n,r,t)}function jr(e,t){e.f&&On({},(function(e,n){Kn(t,n,e)}))}function zr(e,t,n){n=Math.min(e.g.length,n);var r=e.f?be(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{mr(l,a,"req"+c+"_")}catch(Ai){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function qr(e){e.a||e.j||(e.T=1,Ut(e.Aa,e),e.o=0)}function Br(e){return!(e.a||e.j||3<=e.o)&&(e.T++,e.j=un(be(e.Aa,e),Gr(e,e.o)),e.o++,!0)}function Kr(e){null!=e.s&&(fe.clearTimeout(e.s),e.s=null)}function Hr(e){e.a=new bn(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Vn(e.la);Kn(t,"RID","rpc"),Kn(t,"SID",e.J),Kn(t,"CI",e.H?"0":"1"),Kn(t,"AID",e.P),jr(e,t),Kn(t,"TYPE","xmlhttp"),e.i&&e.l&&Ar(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Hn(Vn(t)),n.j=null,n.I=!0,Tn(n,e)}function Qr(e){null!=e.m&&(fe.clearTimeout(e.m),e.m=null)}function Wr(e,t){var n=null;if(e.a==t){Qr(e),Kr(e),e.a=null;var r=2}else{if(!fr(e.b,t))return;n=t.s,dr(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=Ee()-t.u;var i=e.u;Ct(r=tn(),new sn(r,n,t,i)),Ur(e)}else qr(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(lr(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.g=t.s.concat(e.g),!0):!(1==e.v||2==e.v||e.u>=(e.La?0:e.Ma))&&(e.h=un(be(e.Ba,e,t),Gr(e,e.u)),e.u++,!0))}(e,t)||2==r&&Br(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:$r(e,5);break;case 4:$r(e,10);break;case 3:$r(e,6);break;default:$r(e,2)}}function Gr(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function $r(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=be(e.Ya,e);n||(n=new Un("//www.google.com/images/cleardot.gif"),fe.location&&"http"==fe.location.protocol||jn(n,"https"),Hn(n)),function(e,t){var n=new Xt;if(fe.Image){var r=new Image;r.onload=we(gr,n,r,"TestLoadImage: loaded",!0,t),r.onerror=we(gr,n,r,"TestLoadImage: error",!1,t),r.onabort=we(gr,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=we(gr,n,r,"TestLoadImage: timeout",!1,t),fe.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else an(2);e.v=0,e.f&&e.f.ra(t),Yr(e),Mr(e)}function Yr(e){e.v=0,e.I=-1,e.f&&(0==pr(e.b).length&&0==e.g.length||(e.b.c.length=0,Ne(e.g),e.g.length=0),e.f.qa())}function Xr(e,t,n){var r=function(e){return e instanceof Un?Vn(e):new Un(e,void 0)}(n);if(""!=r.c)t&&zn(r,t+"."+r.c),qn(r,r.h);else{var i=fe.location;r=function(e,t,n,r){var i=new Un(null,void 0);return e&&jn(i,e),t&&zn(i,t),n&&qn(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&Le(e.V,(function(e,t){Kn(r,t,e)})),t=e.A,n=e.na,t&&n&&Kn(r,t,n),Kn(r,"VER",e.ha),jr(e,r),r}function Jr(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new wr(e.Na)).F=e.C,t}function Zr(){}function ei(){if(qe&&!(10<=Number(tt)))throw Error("Environmental error: no available transport.")}function ti(e,t){xt.call(this),this.a=new Or(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!xe(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!xe(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&(t in(e=this.b)&&delete e[t])),this.f=new ii(this)}function ni(e){vn.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function ri(){mn.call(this),this.status=1}function ii(e){this.a=e}(ue=wr.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?hn(this.H):hn(pn),this.a.onreadystatechange=be(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(o){return void Ir(this,o)}e=n||"";var i=new Rn(this.headers);r&&On(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Tr,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.L()),n=fe.FormData&&e instanceof fe.FormData,!(0<=Te(_r,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Cr(this),0<this.o&&((this.D=function(e){return qe&&Ze(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=be(this.xa,this)):this.m=Kt(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){Ir(this,o)}},ue.xa=function(){"undefined"!=typeof le&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ct(this,"timeout"),this.abort(8))},ue.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Ct(this,"complete"),Ct(this,"abort"),xr(this))},ue.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),xr(this,!0)),wr.X.G.call(this)},ue.za=function(){this.j||(this.A||this.l||this.g?Nr(this):this.Ua())},ue.Ua=function(){Nr(this)},ue.W=function(){try{return 2<Dr(this)?this.a.status:-1}catch(e){return-1}},ue.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},ue.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),br(t)}},ue.ua=function(){return this.h},ue.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},(ue=Or.prototype).ha=8,ue.v=1,ue.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new bn(this,this.c,e,void 0),r=this.l;if(this.O&&(r?Ue(r=Me(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=zr(this,n,t),Kn(i=Vn(this.B),"RID",e),Kn(i,"CVER",22),this.A&&Kn(i,"X-HTTP-Session-Id",this.A),jr(this,i),this.i&&r&&Ar(i,this.i,r),hr(this.b,n),this.Ia&&Kn(i,"TYPE","init"),this.da?(Kn(i,"$req",t),Kn(i,"SID","null"),n.U=!0,_n(n,i,null)):_n(n,i,t),this.v=2}}else 3==this.v&&(e?Vr(this,e):0==this.g.length||cr(this.b)||Vr(this))},ue.Aa=function(){if(this.j=null,Hr(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=un(be(this.Ta,this),e)}},ue.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,an(10),Lr(this),Hr(this))},ue.Sa=function(){null!=this.m&&(this.m=null,Lr(this),Br(this),an(19))},ue.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),an(2)):(this.c.info("Failed to ping google.com"),an(1))},(ue=Zr.prototype).ta=function(){},ue.sa=function(){},ue.ra=function(){},ue.qa=function(){},ue.Ja=function(){},ei.prototype.a=function(e,t){return new ti(e,t)},Se(ti,xt),ti.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;an(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=Xr(e,null,e.fa),Ur(e)},ti.prototype.close=function(){Rr(this.a)},ti.prototype.h=function(e){if("string"===typeof e){var t={};t.__data__=e,Fr(this.a,t)}else this.l?((t={}).__data__=At(e),Fr(this.a,t)):Fr(this.a,e)},ti.prototype.G=function(){this.a.f=null,delete this.f,Rr(this.a),delete this.a,ti.X.G.call(this)},Se(ni,vn),Se(ri,mn),Se(ii,Zr),ii.prototype.ta=function(){Ct(this.a,"a")},ii.prototype.sa=function(e){Ct(this.a,new ni(e))},ii.prototype.ra=function(e){Ct(this.a,new ri(e))},ii.prototype.qa=function(){Ct(this.a,"b")},ei.prototype.createWebChannel=ei.prototype.a,ti.prototype.send=ti.prototype.h,ti.prototype.open=ti.prototype.g,ti.prototype.close=ti.prototype.close,cn.NO_ERROR=0,cn.TIMEOUT=8,cn.HTTP_ERROR=6,ln.COMPLETE="complete",dn.EventType=yn,yn.OPEN="a",yn.CLOSE="b",yn.ERROR="c",yn.MESSAGE="d",xt.prototype.listen=xt.prototype.va,wr.prototype.listenOnce=wr.prototype.wa,wr.prototype.getLastError=wr.prototype.Qa,wr.prototype.getLastErrorCode=wr.prototype.ua,wr.prototype.getStatus=wr.prototype.W,wr.prototype.getResponseJson=wr.prototype.Pa,wr.prototype.getResponseText=wr.prototype.$,wr.prototype.send=wr.prototype.ba;var oi=function(){return new ei},ai=function(){return tn()},si=cn,ui=ln,ci=Zt,li={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},fi=dn,hi=wr;var di=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();di.o=-1;var pi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},yi=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return c(t,e),t}(Error),vi=new B("@firebase/firestore");function mi(){return vi.logLevel}function gi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(vi.logLevel<=M.DEBUG){var r=t.map(Ei);vi.debug.apply(vi,y(["Firestore (8.5.0): "+e],r))}}function bi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(vi.logLevel<=M.ERROR){var r=t.map(Ei);vi.error.apply(vi,y(["Firestore (8.5.0): "+e],r))}}function wi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(vi.logLevel<=M.WARN){var r=t.map(Ei);vi.warn.apply(vi,y(["Firestore (8.5.0): "+e],r))}}function Ei(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Si(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+e;throw bi(t),new Error(t)}function _i(e,t){e||Si()}function Ti(e,t){return e}function Ii(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var ki=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Ii(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n},e}();function Ni(e,t){return e<t?-1:e>t?1:0}function xi(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ci(e){return e+"\0"}var Di=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new yi(pi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new yi(pi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new yi(pi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yi(pi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Ni(this.nanoseconds,e.nanoseconds):Ni(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Ai=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Di(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Pi(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Oi(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ri(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Li=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Si(),void 0===n?n=e.length-t:n>e.length-t&&Si(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Mi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new yi(pi.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Li),Fi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ui=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Fi.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new yi(pi.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new yi(pi.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new yi(pi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new yi(pi.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Li),Vi=function(){function e(e){this.fields=e,e.sort(Ui.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return xi(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),ji=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Ni(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();ji.EMPTY_BYTE_STRING=new ji("");var zi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(e){if(_i(!!e),"string"==typeof e){var t=0,n=zi.exec(e);if(_i(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Bi(e.seconds),nanos:Bi(e.nanos)}}function Bi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ki(e){return"string"==typeof e?ji.fromBase64String(e):ji.fromUint8Array(e)}function Hi(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Qi(e){var t=e.mapValue.fields.__previous_value__;return Hi(t)?Qi(t):t}function Wi(e){var t=qi(e.mapValue.fields.__local_write_time__.timestampValue);return new Di(t.seconds,t.nanos)}function Gi(e){return null==e}function $i(e){return 0===e&&1/e==-1/0}function Yi(e){return"number"==typeof e&&Number.isInteger(e)&&!$i(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Xi=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Mi.fromString(t))},e.fromName=function(t){return new e(Mi.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Mi.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Mi.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Mi(t.slice()))},e}();function Ji(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Hi(e)?4:10:Si()}function Zi(e,t){var n=Ji(e);if(n!==Ji(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Wi(e).isEqual(Wi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=qi(e.timestampValue),r=qi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ki(e.bytesValue).isEqual(Ki(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Bi(e.geoPointValue.latitude)===Bi(t.geoPointValue.latitude)&&Bi(e.geoPointValue.longitude)===Bi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Bi(e.integerValue)===Bi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Bi(e.doubleValue),r=Bi(t.doubleValue);return n===r?$i(n)===$i(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return xi(e.arrayValue.values||[],t.arrayValue.values||[],Zi);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Pi(n)!==Pi(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Zi(n[i],r[i])))return!1;return!0}(e,t);default:return Si()}}function eo(e,t){return void 0!==(e.values||[]).find((function(e){return Zi(e,t)}))}function to(e,t){var n=Ji(e),r=Ji(t);if(n!==r)return Ni(n,r);switch(n){case 0:return 0;case 1:return Ni(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Bi(e.integerValue||e.doubleValue),r=Bi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return no(e.timestampValue,t.timestampValue);case 4:return no(Wi(e),Wi(t));case 5:return Ni(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ki(e),r=Ki(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Ni(n[i],r[i]);if(0!==o)return o}return Ni(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ni(Bi(e.latitude),Bi(t.latitude));return 0!==n?n:Ni(Bi(e.longitude),Bi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=to(n[i],r[i]);if(o)return o}return Ni(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Ni(r[a],o[a]);if(0!==s)return s;var u=to(n[r[a]],i[o[a]]);if(0!==u)return u}return Ni(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Si()}}function no(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ni(e,t);var n=qi(e),r=qi(t),i=Ni(n.seconds,r.seconds);return 0!==i?i:Ni(n.nanos,r.nanos)}function ro(e){return io(e)}function io(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=qi(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ki(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Xi.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=io(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+io(e.fields[o])}return t+"}"}(e.mapValue):Si();var t,n}function oo(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function ao(e){return!!e&&"integerValue"in e}function so(e){return!!e&&"arrayValue"in e}function uo(e){return!!e&&"nullValue"in e}function co(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function lo(e){return!!e&&"mapValue"in e}var fo=function(){function e(e){this.overlayMap=new Map,this.partialValue=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field(Ui.emptyPath())},e.prototype.set=function(e,t){this.setOverlay(e,t)},e.prototype.setAll=function(e){var t=this;e.forEach((function(e,n){e?t.set(n,e):t.delete(n)}))},e.prototype.delete=function(e){this.setOverlay(e,null)},e.prototype.isEqual=function(e){return Zi(this.buildProto(),e.buildProto())},e.prototype.setOverlay=function(e,t){for(var n=this.overlayMap,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Ji(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.lastSegment(),t)},e.prototype.applyOverlay=function(t,n){var r=this,i=!1,o=e.extractNestedValue(this.partialValue,t),a=lo(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(e,n){if(e instanceof Map){var o=r.applyOverlay(t.child(n),e);null!=o&&(a[n]=o,i=!0)}else null!==e?(a[n]=e,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},e.prototype.buildProto=function(){var e=this.applyOverlay(Ui.emptyPath(),this.overlayMap);return null!=e&&(this.partialValue=e,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(e,t){if(t.isEmpty())return e;for(var n=e,r=0;r<t.length-1;++r){if(!n.mapValue.fields)return null;if(!lo(n=n.mapValue.fields[t.get(r)]))return null}return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function ho(e){var t=[];return Oi(e.fields||{},(function(e,n){var r=new Ui([e]);if(lo(n)){var i=ho(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new Vi(t)}var po=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Ai.min(),fo.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,fo.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,fo.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=fo.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=fo.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),yo=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function vo(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new yo(e,t,n,r,i,o,a)}function mo(e){var t=Ti(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+ro(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Gi(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Do(t.startAt)),t.endAt&&(n+="|ub:",n+=Do(t.endAt)),t.h=n}return t.h}function go(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Po(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Zi(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ro(e.startAt,t.startAt)&&Ro(e.endAt,t.endAt)}function bo(e){return Xi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var wo=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return c(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Eo(e,n,r):"array-contains"===n?new Io(e,r):"in"===n?new ko(e,r):"not-in"===n?new No(e,r):"array-contains-any"===n?new xo(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new So(e,n):new _o(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(to(t,this.value)):null!==t&&Ji(this.value)===Ji(t)&&this.m(to(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Si()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Eo=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Xi.fromName(r.referenceValue),i}return c(t,e),t.prototype.matches=function(e){var t=Xi.comparator(e.key,this.key);return this.m(t)},t}(wo),So=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=To("in",n),r}return c(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(wo),_o=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=To("not-in",n),r}return c(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(wo);function To(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Xi.fromName(e.referenceValue)}))}var Io=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return c(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return so(t)&&eo(t.arrayValue,this.value)},t}(wo),ko=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return c(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&eo(this.value.arrayValue,t)},t}(wo),No=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return c(t,e),t.prototype.matches=function(e){if(eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!eo(this.value.arrayValue,t)},t}(wo),xo=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return c(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!so(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return eo(t.value.arrayValue,e)}))},t}(wo),Co=function(e,t){this.position=e,this.before=t};function Do(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return ro(e)})).join(",")}var Ao=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Po(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Oo(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Xi.comparator(Xi.fromName(a.referenceValue),n.key):to(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Ro(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Zi(e.position[n],t.position[n]))return!1;return!0}var Lo=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Mo(e,t,n,r,i,o,a,s){return new Lo(e,t,n,r,i,o,a,s)}function Fo(e){return new Lo(e)}function Uo(e){return!Gi(e.limit)&&"F"===e.limitType}function Vo(e){return!Gi(e.limit)&&"L"===e.limitType}function jo(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function zo(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function qo(e){return null!==e.collectionGroup}function Bo(e){var t=Ti(e);if(null===t.p){t.p=[];var n=zo(t),r=jo(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Ao(n)),t.p.push(new Ao(Ui.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ao(Ui.keyField(),u))}}}return t.p}function Ko(e){var t=Ti(e);if(!t.T)if("F"===t.limitType)t.T=vo(t.path,t.collectionGroup,Bo(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Bo(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Ao(o.field,a))}var s=t.endAt?new Co(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Co(t.startAt.position,!t.startAt.before):null;t.T=vo(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Ho(e,t,n){return new Lo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Qo(e,t){return go(Ko(e),Ko(t))&&e.limitType===t.limitType}function Wo(e){return mo(Ko(e))+"|lt:"+e.limitType}function Go(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+ro(t.value);var t})).join(", ")+"]"),Gi(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Do(e.startAt)),e.endAt&&(t+=", endAt: "+Do(e.endAt)),"Target("+t+")"}(Ko(e))+"; limitType="+e.limitType+")"}function $o(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Xi.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Oo(e.startAt,Bo(e),t))&&(!e.endAt||!Oo(e.endAt,Bo(e),t))}(e,t)}function Yo(e){return function(t,n){for(var r=!1,i=0,o=Bo(e);i<o.length;i++){var a=o[i],s=Xo(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Xo(e,t,n){var r=e.field.isKeyField()?Xi.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?to(r,i):Si()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Si()}}function Jo(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$i(t)?"-0":t}}function Zo(e){return{integerValue:""+e}}function ea(e,t){return Yi(t)?Zo(t):Jo(e,t)}var ta=function(){this._=void 0};function na(e,t,n){return e instanceof oa?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof aa?sa(e,t):e instanceof ua?ca(e,t):function(e,t){var n=ia(e,t),r=fa(n)+fa(e.A);return ao(n)&&ao(e.A)?Zo(r):Jo(e.R,r)}(e,t)}function ra(e,t,n){return e instanceof aa?sa(e,t):e instanceof ua?ca(e,t):n}function ia(e,t){return e instanceof la?ao(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var oa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t}(ta),aa=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return c(t,e),t}(ta);function sa(e,t){for(var n=ha(t),r=function(e){n.some((function(t){return Zi(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ua=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return c(t,e),t}(ta);function ca(e,t){for(var n=ha(t),r=function(e){n=n.filter((function(t){return!Zi(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var la=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return c(t,e),t}(ta);function fa(e){return Bi(e.integerValue||e.doubleValue)}function ha(e){return so(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var da=function(e,t){this.field=e,this.transform=t},pa=function(e,t){this.version=e,this.transformResults=t},ya=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function va(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ma=function(){};function ga(e,t,n){e instanceof _a?function(e,t,n){var r=e.value.clone(),i=ka(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ta?function(e,t,n){if(va(e.precondition,t)){var r=ka(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ia(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ba(e,t,n){e instanceof _a?function(e,t,n){if(va(e.precondition,t)){var r=e.value.clone(),i=Na(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Sa(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Ta?function(e,t,n){if(va(e.precondition,t)){var r=Na(e.fieldTransforms,n,t),i=t.data;i.setAll(Ia(e)),i.setAll(r),t.convertToFoundDocument(Sa(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){va(e.precondition,t)&&t.convertToNoDocument(Ai.min())}(e,t)}function wa(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=ia(o.transform,a||null);null!=s&&(null==n&&(n=fo.empty()),n.set(o.field,s))}return n||null}function Ea(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&xi(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof aa&&t instanceof aa||e instanceof ua&&t instanceof ua?xi(e.elements,t.elements,Zi):e instanceof la&&t instanceof la?Zi(e.A,t.A):e instanceof oa&&t instanceof oa}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Sa(e){return e.isFoundDocument()?e.version:Ai.min()}var _a=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return c(t,e),t}(ma),Ta=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return c(t,e),t}(ma);function Ia(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function ka(e,t,n){var r=new Map;_i(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,ra(a,s,n[i]))}return r}function Na(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,na(s,u,t))}return r}var xa,Ca,Da=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return c(t,e),t}(ma),Aa=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return c(t,e),t}(ma),Pa=function(e){this.count=e};function Oa(e){switch(e){case pi.OK:return Si();case pi.CANCELLED:case pi.UNKNOWN:case pi.DEADLINE_EXCEEDED:case pi.RESOURCE_EXHAUSTED:case pi.INTERNAL:case pi.UNAVAILABLE:case pi.UNAUTHENTICATED:return!1;case pi.INVALID_ARGUMENT:case pi.NOT_FOUND:case pi.ALREADY_EXISTS:case pi.PERMISSION_DENIED:case pi.FAILED_PRECONDITION:case pi.ABORTED:case pi.OUT_OF_RANGE:case pi.UNIMPLEMENTED:case pi.DATA_LOSS:return!0;default:return Si()}}function Ra(e){if(void 0===e)return bi("GRPC error has no .code"),pi.UNKNOWN;switch(e){case xa.OK:return pi.OK;case xa.CANCELLED:return pi.CANCELLED;case xa.UNKNOWN:return pi.UNKNOWN;case xa.DEADLINE_EXCEEDED:return pi.DEADLINE_EXCEEDED;case xa.RESOURCE_EXHAUSTED:return pi.RESOURCE_EXHAUSTED;case xa.INTERNAL:return pi.INTERNAL;case xa.UNAVAILABLE:return pi.UNAVAILABLE;case xa.UNAUTHENTICATED:return pi.UNAUTHENTICATED;case xa.INVALID_ARGUMENT:return pi.INVALID_ARGUMENT;case xa.NOT_FOUND:return pi.NOT_FOUND;case xa.ALREADY_EXISTS:return pi.ALREADY_EXISTS;case xa.PERMISSION_DENIED:return pi.PERMISSION_DENIED;case xa.FAILED_PRECONDITION:return pi.FAILED_PRECONDITION;case xa.ABORTED:return pi.ABORTED;case xa.OUT_OF_RANGE:return pi.OUT_OF_RANGE;case xa.UNIMPLEMENTED:return pi.UNIMPLEMENTED;case xa.DATA_LOSS:return pi.DATA_LOSS;default:return Si()}}(Ca=xa||(xa={}))[Ca.OK=0]="OK",Ca[Ca.CANCELLED=1]="CANCELLED",Ca[Ca.UNKNOWN=2]="UNKNOWN",Ca[Ca.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ca[Ca.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ca[Ca.NOT_FOUND=5]="NOT_FOUND",Ca[Ca.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ca[Ca.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ca[Ca.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ca[Ca.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ca[Ca.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ca[Ca.ABORTED=10]="ABORTED",Ca[Ca.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ca[Ca.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ca[Ca.INTERNAL=13]="INTERNAL",Ca[Ca.UNAVAILABLE=14]="UNAVAILABLE",Ca[Ca.DATA_LOSS=15]="DATA_LOSS";var La=function(){function e(e,t){this.comparator=e,this.root=t||Fa.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Fa.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fa.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Ma(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Ma(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ma(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Ma(this.root,e,this.comparator,!0)},e}(),Ma=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Fa=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Si();if(this.right.isRed())throw Si();var e=this.left.check();if(e!==this.right.check())throw Si();return e+(this.isRed()?0:1)},e}();Fa.EMPTY=null,Fa.RED=!0,Fa.BLACK=!1,Fa.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Si()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Si()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Si()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Si()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Si()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Fa(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Ua=function(){function e(e){this.comparator=e,this.data=new La(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Va(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Va(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Va=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),ja=new La(Xi.comparator);function za(){return ja}var qa=new La(Xi.comparator);function Ba(){return qa}var Ka=new La(Xi.comparator);function Ha(){return Ka}var Qa=new Ua(Xi.comparator);function Wa(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Qa,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ga=new Ua(Ni);function $a(){return Ga}var Ya=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Xa.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ai.min(),r,$a(),za(),Wa())},e}(),Xa=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(ji.EMPTY_BYTE_STRING,n,Wa(),Wa(),Wa())},e}(),Ja=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Za=function(e,t){this.targetId=e,this.V=t},es=function(e,t,n,r){void 0===n&&(n=ji.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},ts=function(){function e(){this.S=0,this.D=is(),this.C=ji.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=Wa(),t=Wa(),n=Wa();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Si()}})),new Xa(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=is()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),ns=function(){function e(e){this.W=e,this.G=new Map,this.H=za(),this.J=rs(),this.Y=new Ua(Ni)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.$(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.$(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.$(e.resumeToken));break;default:Si()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(bo(i))if(0===n){var o=new Xi(i.path);this.tt(t,o,po.newNoDocument(o,Ai.min()))}else _i(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&bo(o.target)){var a=new Xi(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,po.newNoDocument(a,e))}r.O&&(n.set(i,r.M()),r.L())}}));var r=Wa();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Ya(e,n,this.Y,this.H,r);return this.H=za(),this.J=rs(),this.Y=new Ua(Ni),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new ts,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Ua(Ni),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||gi("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new ts),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function rs(){return new La(Xi.comparator)}function is(){return new La(Xi.comparator)}var os={asc:"ASCENDING",desc:"DESCENDING"},as={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ss=function(e,t){this.databaseId=e,this.I=t};function us(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function cs(e,t){return e.I?t.toBase64():t.toUint8Array()}function ls(e,t){return us(e,t.toTimestamp())}function fs(e){return _i(!!e),Ai.fromTimestamp(function(e){var t=qi(e);return new Di(t.seconds,t.nanos)}(e))}function hs(e,t){return function(e){return new Mi(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ds(e){var t=Mi.fromString(e);return _i(Fs(t)),t}function ps(e,t){return hs(e.databaseId,t.path)}function ys(e,t){var n=ds(t);if(n.get(1)!==e.databaseId.projectId)throw new yi(pi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new yi(pi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Xi(bs(n))}function vs(e,t){return hs(e.databaseId,t)}function ms(e){var t=ds(e);return 4===t.length?Mi.emptyPath():bs(t)}function gs(e){return new Mi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function bs(e){return _i(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ws(e,t,n){return{name:ps(e,t),fields:n.toProto().mapValue.fields}}function Es(e,t,n){var r=ys(e,t.name),i=fs(t.updateTime),o=new fo({mapValue:{fields:t.fields}}),a=po.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ss(e,t){var n;if(t instanceof _a)n={update:ws(e,t.key,t.value)};else if(t instanceof Da)n={delete:ps(e,t.key)};else if(t instanceof Ta)n={update:ws(e,t.key,t.data),updateMask:Ms(t.fieldMask)};else{if(!(t instanceof Aa))return Si();n={verify:ps(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof oa)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof aa)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ua)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof la)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Si()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ls(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Si()}(e,t.precondition)),n}function _s(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ya.updateTime(fs(e.updateTime)):void 0!==e.exists?ya.exists(e.exists):ya.none()}(t.currentDocument):ya.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)_i("REQUEST_TIME"===t.setToServerValue),n=new oa;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new aa(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new ua(i)}else"increment"in t?n=new la(e,t.increment):Si();var o=Ui.fromServerFormat(t.fieldPath);return new da(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=ys(e,t.update.name),o=new fo({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new Vi(t.map((function(e){return Ui.fromServerFormat(e)})))}(t.updateMask);return new Ta(i,o,a,n,r)}return new _a(i,o,n,r)}if(t.delete){var s=ys(e,t.delete);return new Da(s,n)}if(t.verify){var u=ys(e,t.verify);return new Aa(u,n)}return Si()}function Ts(e,t){return{documents:[vs(e,t.path)]}}function Is(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=vs(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=vs(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(co(e.value))return{unaryFilter:{field:Ps(e.field),op:"IS_NAN"}};if(uo(e.value))return{unaryFilter:{field:Ps(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(co(e.value))return{unaryFilter:{field:Ps(e.field),op:"IS_NOT_NAN"}};if(uo(e.value))return{unaryFilter:{field:Ps(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(e.field),op:As(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ps(e.field),direction:Ds(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||Gi(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=xs(t.startAt)),t.endAt&&(n.structuredQuery.endAt=xs(t.endAt)),n}function ks(e){var t=ms(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_i(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Ns(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Ao(Os(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Gi(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Cs(n.startAt));var l=null;return n.endAt&&(l=Cs(n.endAt)),Mo(t,i,s,a,u,"F",c,l)}function Ns(e){return e?void 0!==e.unaryFilter?[Ls(e)]:void 0!==e.fieldFilter?[Rs(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ns(e)})).reduce((function(e,t){return e.concat(t)})):Si():[]}function xs(e){return{before:e.before,values:e.position}}function Cs(e){var t=!!e.before,n=e.values||[];return new Co(n,t)}function Ds(e){return os[e]}function As(e){return as[e]}function Ps(e){return{fieldPath:e.canonicalString()}}function Os(e){return Ui.fromServerFormat(e.fieldPath)}function Rs(e){return wo.create(Os(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Si()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ls(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Os(e.unaryFilter.field);return wo.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Os(e.unaryFilter.field);return wo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Os(e.unaryFilter.field);return wo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Os(e.unaryFilter.field);return wo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Si()}}function Ms(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Fs(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Us(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=js(t)),t=Vs(e.get(n),t);return js(t)}function Vs(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function js(e){return e+"\x01\x01"}function zs(e){var t=e.length;if(_i(t>=2),2===t)return _i("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Mi.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&Si(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Si()}o=a+2}return new Mi(r)}var qs=function(e,t){this.seconds=e,this.nanoseconds=t},Bs=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Bs.store="owner",Bs.key="owner";var Ks=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Ks.store="mutationQueues",Ks.keyPath="userId";var Hs=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Hs.store="mutations",Hs.keyPath="batchId",Hs.userMutationsIndex="userMutationsIndex",Hs.userMutationsKeyPath=["userId","batchId"];var Qs=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Us(t)]},e.key=function(e,t,n){return[e,Us(t),n]},e}();Qs.store="documentMutations",Qs.PLACEHOLDER=new Qs;var Ws=function(e,t){this.path=e,this.readTime=t},Gs=function(e,t){this.path=e,this.version=t},$s=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};$s.store="remoteDocuments",$s.readTimeIndex="readTimeIndex",$s.readTimeIndexPath="readTime",$s.collectionReadTimeIndex="collectionReadTimeIndex",$s.collectionReadTimeIndexPath=["parentPath","readTime"];var Ys=function(e){this.byteSize=e};Ys.store="remoteDocumentGlobal",Ys.key="remoteDocumentGlobalKey";var Xs=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Xs.store="targets",Xs.keyPath="targetId",Xs.queryTargetsIndexName="queryTargetsIndex",Xs.queryTargetsKeyPath=["canonicalId","targetId"];var Js=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Js.store="targetDocuments",Js.keyPath=["targetId","path"],Js.documentTargetsIndex="documentTargetsIndex",Js.documentTargetsKeyPath=["path","targetId"];var Zs=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Zs.key="targetGlobalKey",Zs.store="targetGlobal";var eu=function(e,t){this.collectionId=e,this.parent=t};eu.store="collectionParents",eu.keyPath=["collectionId","parent"];var tu=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};tu.store="clientMetadata",tu.keyPath="clientId";var nu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};nu.store="bundles",nu.keyPath="bundleId";var ru=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};ru.store="namedQueries",ru.keyPath="name";var iu=y(y([],y(y([],y(y([],y(y([],[Ks.store,Hs.store,Qs.store,$s.store,Xs.store,Bs.store,Zs.store,Js.store]),[tu.store])),[Ys.store])),[eu.store])),[nu.store,ru.store]),ou="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",au=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),su=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},uu=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Si(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),cu=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new su,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new hu(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=mu(t.target.error);n.ft.reject(new hu(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new hu(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(gi("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new pu(t)},e}(),lu=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(w())&&bi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return gi("SimpleDb","Removing database:",e),yu(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=w(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/leave-message",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAZuMTD1oaXCNQY__QV3nKpopntGfU2PKQ",REACT_APP_FIREBASE_APP_ID:"1:367275093546:web:61fa6cecf9e591a8fc9d53",REACT_APP_FIREBASE_AUTH_DOMAIN:"project-leave-message.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"367275093546",REACT_APP_FIREBASE_PROJECT_ID:"project-leave-message",REACT_APP_FIREBASE_STORAGE_BUCKET:"project-leave-message.appspot.com"})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return f(this,void 0,void 0,(function(){var t,n=this;return h(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(gi("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new hu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new yi(pi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new hu(e,n))},i.onupgradeneeded=function(e){gi("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){gi("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return f(this,void 0,void 0,(function(){var i,o,a,s,u;return h(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return h(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=f.sent(),t=cu.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),uu.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(f.sent(),a),u)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,gi("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),fu=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return yu(this.Pt.delete())},e}(),hu=function(e){function t(t,n){var r=this;return(r=e.call(this,pi.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return c(t,e),t}(yi);function du(e){return"IndexedDbTransactionError"===e.name}var pu=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(gi("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(gi("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),yu(n)},e.prototype.add=function(e){return gi("SimpleDb","ADD",this.store.name,e,e),yu(this.store.add(e))},e.prototype.get=function(e){var t=this;return yu(this.store.get(e)).next((function(n){return void 0===n&&(n=null),gi("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return gi("SimpleDb","DELETE",this.store.name,e),yu(this.store.delete(e))},e.prototype.count=function(){return gi("SimpleDb","COUNT",this.store.name),yu(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){gi("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.Ot=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.$t=function(e){var t=this.cursor({});return new uu((function(n,r){t.onerror=function(e){var t=mu(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new uu((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new fu(i),a=t(i.primaryKey,i.value,o);if(a instanceof uu){var s=a.catch((function(e){return o.done(),uu.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return uu.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function yu(e){return new uu((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=mu(e.target.error);n(t)}}))}var vu=!1;function mu(e){var t=lu._t(w());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new yi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return vu||(vu=!0,setTimeout((function(){throw r}),0)),r}}return e}var gu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return c(t,e),t}(au);function bu(e,t){var n=Ti(e);return lu.It(n.Mt,t)}var wu=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ga(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&ba(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&ba(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ai.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Wa())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&xi(this.mutations,e.mutations,(function(e,t){return Ea(e,t)}))&&xi(this.baseMutations,e.baseMutations,(function(e,t){return Ea(e,t)}))},e}(),Eu=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){_i(t.mutations.length===r.length);for(var i=Ha(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Su=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Ai.min()),void 0===o&&(o=Ai.min()),void 0===a&&(a=ji.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),_u=function(e){this.Lt=e};function Tu(e,t){if(t.document)return Es(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Xi.fromSegments(t.noDocument.path),r=Cu(t.noDocument.readTime),i=po.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Xi.fromSegments(t.unknownDocument.path);return r=Cu(t.unknownDocument.version),po.newUnknownDocument(o,r)}return Si()}function Iu(e,t,n){var r=ku(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:ps(e,t.key),fields:t.data.toProto().mapValue.fields,updateTime:us(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new $s(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=xu(t.version);return a=t.hasCommittedMutations,new $s(null,new Ws(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=xu(t.version);return new $s(new Gs(c,l),null,null,!0,r,i)}return Si()}function ku(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Nu(e){var t=new Di(e[0],e[1]);return Ai.fromTimestamp(t)}function xu(e){var t=e.toTimestamp();return new qs(t.seconds,t.nanoseconds)}function Cu(e){var t=new Di(e.seconds,e.nanoseconds);return Ai.fromTimestamp(t)}function Du(e,t){for(var n=(t.baseMutations||[]).map((function(t){return _s(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return _s(e.Lt,t)})),s=Di.fromMillis(t.localWriteTimeMs);return new wu(t.batchId,s,n,a)}function Au(e){var t,n,r=Cu(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Cu(e.lastLimboFreeSnapshotVersion):Ai.min();return void 0!==e.query.documents?(_i(1===(n=e.query).documents.length),t=Ko(Fo(ms(n.documents[0])))):t=function(e){return Ko(ks(e))}(e.query),new Su(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ji.fromBase64String(e.resumeToken))}function Pu(e,t){var n,r=xu(t.snapshotVersion),i=xu(t.lastLimboFreeSnapshotVersion);n=bo(t.target)?Ts(e.Lt,t.target):Is(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Xs(t.targetId,mo(t.target),r,o,t.sequenceNumber,i,n)}function Ou(e){var t=ks({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ho(t,t.limit,"L"):t}var Ru=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Lu(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Cu(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Lu(e).put({bundleId:(n=t).id,createTime:xu(fs(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Mu(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ou(t.bundledQuery),readTime:Cu(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Mu(e).put(function(e){return{name:e.name,readTime:xu(fs(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Lu(e){return bu(e,nu.store)}function Mu(e){return bu(e,ru.store)}var Fu=function(){function e(){this.Bt=new Uu}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),uu.resolve()},e.prototype.getCollectionParents=function(e,t){return uu.resolve(this.Bt.getEntries(t))},e}(),Uu=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ua(Mi.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Ua(Mi.comparator)).toArray()},e}(),Vu=function(){function e(){this.qt=new Uu}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Us(i)};return ju(e).put(o)}return uu.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ci(t),""],!1,!0);return ju(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(zs(o.parent))}return n}))},e}();function ju(e){return bu(e,eu.store)}var zu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qu=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Bu(e,t,n){var r=e.store(Hs.store),i=e.store(Qs.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){_i(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=Qs.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return uu.waitFor(o).next((function(){return c}))}function Ku(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Si();t=e.noDocument}return JSON.stringify(t).length}qu.DEFAULT_COLLECTION_PERCENTILE=10,qu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qu.DEFAULT=new qu(41943040,qu.DEFAULT_COLLECTION_PERCENTILE,qu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qu.DISABLED=new qu(-1,0,0);var Hu=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return e.Kt=function(t,n,r,i){return _i(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wu(e).Ot({index:Hs.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Gu(e),a=Wu(e);return a.add({}).next((function(s){_i("number"==typeof s);for(var u=new wu(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Ss(e.Lt,t)})),i=n.mutations.map((function(t){return Ss(e.Lt,t)}));return new Hs(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new Ua((function(e,t){return Ni(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],y=Qs.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(y,Qs.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),uu.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Wu(e).get(t).next((function(e){return e?(_i(e.userId===n.userId),Du(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Qt[t]?uu.resolve(this.Qt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Qt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Wu(e).Ot({index:Hs.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(_i(t.batchId>=r),o=Du(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Wu(e).Ot({index:Hs.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wu(e).Nt(Hs.userMutationsIndex,n).next((function(e){return e.map((function(e){return Du(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Qs.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Gu(e).Ot({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=zs(u);if(s===n.userId&&t.path.isEqual(l))return Wu(e).get(c).next((function(e){if(!e)throw Si();_i(e.userId===n.userId),o.push(Du(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ua(Ni),i=[];return t.forEach((function(t){var o=Qs.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Gu(e).Ot({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=zs(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),uu.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Qs.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Ua(Ni);return Gu(e).Ot({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=zs(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Wu(e).get(t).next((function(e){if(null===e)throw Si();_i(e.userId===n.userId),r.push(Du(n.R,e))})))})),uu.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Bu(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),uu.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Qt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return uu.resolve();var r=IDBKeyRange.lowerBound(Qs.prefixForUser(t.userId)),i=[];return Gu(e).Ot({range:r},(function(e,n,r){if(e[0]===t.userId){var o=zs(e[1]);i.push(o)}else r.done()})).next((function(){_i(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return Qu(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return $u(e).get(this.userId).next((function(e){return e||new Ks(t.userId,-1,"")}))},e}();function Qu(e,t,n){var r=Qs.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Gu(e).Ot({range:o,kt:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Wu(e){return bu(e,Hs.store)}function Gu(e){return bu(e,Qs.store)}function $u(e){return bu(e,Ks.store)}var Yu=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Xu=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Yu(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Ai.fromTimestamp(new Di(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Ju(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return _i(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Ju(e).Ot((function(a,s){var u=Au(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return uu.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return Ju(e).Ot((function(e,n){var r=Au(n);t(r)}))},e.prototype.Xt=function(e){return Zu(e).get(Zs.key).next((function(e){return _i(null!==e),e}))},e.prototype.Zt=function(e,t){return Zu(e).put(Zs.key,t)},e.prototype.te=function(e,t){return Ju(e).put(Pu(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=mo(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ju(e).Ot({range:r,index:Xs.queryTargetsIndexName},(function(e,n,r){var o=Au(n);go(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=ec(e);return t.forEach((function(t){var a=Us(t.path);i.push(o.put(new Js(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),uu.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=ec(e);return uu.forEach(t,(function(t){var o=Us(t.path);return uu.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=ec(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ec(e),i=Wa();return r.Ot({range:n,kt:!0},(function(e,t,n){var r=zs(e[1]),o=new Xi(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Us(t.path),r=IDBKeyRange.bound([n],[Ci(n)],!1,!0),i=0;return ec(e).Ot({index:Js.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return Ju(e).get(t).next((function(e){return e?Au(e):null}))},e}();function Ju(e){return bu(e,Xs.store)}function Zu(e){return bu(e,Zs.store)}function ec(e){return bu(e,Js.store)}function tc(e){return f(this,void 0,void 0,(function(){return h(this,(function(t){if(e.code!==pi.FAILED_PRECONDITION||e.message!==ou)throw e;return gi("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function nc(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Ni(n,i);return 0===a?Ni(r,o):a}var rc=function(){function e(e){this.ne=e,this.buffer=new Ua(nc),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();nc(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),ic=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;gi("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return f(t,void 0,void 0,(function(){var t;return h(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return du(t=n.sent())?(gi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,tc(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),oc=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return uu.resolve(di.o);var r=new rc(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(gi("LruGarbageCollector","Garbage collection skipped; disabled"),uu.resolve(zu)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(gi("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),zu):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(gi("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),mi()<=M.DEBUG&&gi("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),uu.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),ac=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new oc(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return sc(e,n)},e.prototype.removeReference=function(e,t,n){return sc(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return sc(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return $u(e).$t((function(r){return Qu(e,r,t).next((function(e){return e&&(n=!0),uu.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),ec(e).delete([0,Us(a.path)])}))}));i.push(u)}})).next((function(){return uu.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return sc(e,t)},e.prototype.we=function(e,t){var n,r=ec(e),i=di.o;return r.Ot({index:Js.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==di.o&&t(new Xi(zs(n)),i),i=s,n=a):i=di.o})).next((function(){i!==di.o&&t(new Xi(zs(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function sc(e,t){return ec(e).put(function(e,t){return new Js(0,Us(e.path),t)}(t,e.currentSequenceNumber))}var uc=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Oi(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return Ri(this.inner)},e}(),cc=function(){function e(){this.changes=new uc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Ai.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:po.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?uu.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),lc=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return dc(e).put(pc(t),n)},e.prototype.removeEntry=function(e,t){var n=dc(e),r=pc(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return dc(e).get(pc(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return dc(e).get(pc(t)).next((function(e){return{document:n.ye(t,e),size:Ku(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=za();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=za(),i=new La(Xi.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Ku(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return uu.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return dc(e).Ot({range:r},(function(e,t,r){for(var a=Xi.fromSegments(e);o&&Xi.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=za(),o=t.path.length+1,a={};if(n.isEqual(Ai.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=ku(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=$s.collectionReadTimeIndex}return dc(e).Ot(a,(function(e,n,a){if(e.length===o){var s=Tu(r.R,n);t.path.isPrefixOf(s.key.path)?$o(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new fc(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return hc(e).get(Ys.key).next((function(e){return _i(!!e),e}))},e.prototype.me=function(e,t){return hc(e).put(Ys.key,t)},e.prototype.ye=function(e,t){if(t){var n=Tu(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Ai.min()))return n}return po.newInvalidDocument(e)},e}(),fc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new uc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return c(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Ua((function(e,t){return Ni(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=Iu(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Ku(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=Iu(t.Ie.R,po.newNoDocument(o,Ai.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),uu.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(cc);function hc(e){return bu(e,Ys.store)}function dc(e){return bu(e,$s.store)}function pc(e){return e.path.toArray()}var yc=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;_i(n<r&&n>=0&&r<=11);var o=new cu("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Bs.store)}(e),function(e){e.createObjectStore(Ks.store,{keyPath:Ks.keyPath}),e.createObjectStore(Hs.store,{keyPath:Hs.keyPath,autoIncrement:!0}).createIndex(Hs.userMutationsIndex,Hs.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Qs.store)}(e),vc(e),function(e){e.createObjectStore($s.store)}(e));var a=uu.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Js.store),e.deleteObjectStore(Xs.store),e.deleteObjectStore(Zs.store)}(e),vc(e)),a=a.next((function(){return function(e){var t=e.store(Zs.store),n=new Zs(0,0,Ai.min().toTimestamp(),0);return t.put(Zs.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Hs.store).Nt().next((function(n){e.deleteObjectStore(Hs.store),e.createObjectStore(Hs.store,{keyPath:Hs.keyPath,autoIncrement:!0}).createIndex(Hs.userMutationsIndex,Hs.userMutationsKeyPath,{unique:!0});var r=t.store(Hs.store),i=n.map((function(e){return r.put(e)}));return uu.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(tu.store,{keyPath:tu.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Ys.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore($s.store);t.createIndex($s.readTimeIndex,$s.readTimeIndexPath,{unique:!1}),t.createIndex($s.collectionReadTimeIndex,$s.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(nu.store,{keyPath:nu.keyPath})}(e),function(e){e.createObjectStore(ru.store,{keyPath:ru.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store($s.store).Ot((function(e,n){t+=Ku(n)})).next((function(){var n=new Ys(t);return e.store(Ys.store).put(Ys.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Ks.store),r=e.store(Hs.store);return n.Nt().next((function(n){return uu.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Hs.userMutationsIndex,i).next((function(r){return uu.forEach(r,(function(r){_i(r.userId===n.userId);var i=Du(t.R,r);return Bu(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Js.store),n=e.store($s.store);return e.store(Zs.store).get(Zs.key).next((function(e){var r=[];return n.Ot((function(n,i){var o=new Mi(n),a=function(e){return[0,Us(e)]}(o);r.push(t.get(a).next((function(n){return n?uu.resolve():function(n){return t.put(new Js(0,Us(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return uu.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(eu.store,{keyPath:eu.keyPath});var n=t.store(eu.store),r=new Uu,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Us(i)})}};return t.store($s.store).Ot({kt:!0},(function(e,t){var n=new Mi(e);return i(n.popLast())})).next((function(){return t.store(Qs.store).Ot({kt:!0},(function(e,t){e[0];var n=e[1],r=(e[2],zs(n));return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Xs.store);return n.Ot((function(e,r){var i=Au(r),o=Pu(t.R,i);return n.put(o)}))},e}();function vc(e){e.createObjectStore(Js.store,{keyPath:Js.keyPath}).createIndex(Js.documentTargetsIndex,Js.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Xs.store,{keyPath:Xs.keyPath}).createIndex(Xs.queryTargetsIndexName,Xs.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Zs.store)}var mc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gc=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new yi(pi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ac(this,i),this.Le=n+"main",this.R=new _u(u),this.Be=new lu(this.Le,11,new yc(this.R)),this.qe=new Xu(this.referenceDelegate,this.R),this.Ut=new Vu,this.Ue=function(e,t){return new lc(e,t)}(this.R,this.Ut),this.Qe=new Ru,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&bi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new yi(pi.FAILED_PRECONDITION,mc);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new di(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return f(t,void 0,void 0,(function(){return h(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return f(t,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return f(t,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return wc(t).put(new tu(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(du(t))return gi("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return gi("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return bc(e).get(Bs.key).next((function(e){return uu.resolve(t.tn(e))}))},e.prototype.en=function(e){return wc(e).delete(this.clientId)},e.prototype.nn=function(){return f(this,void 0,void 0,(function(){var e,t,n,r,i=this;return h(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=bu(e,tu.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return uu.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Ke)for(t=0,n=e;t<n.length;t++)r=n[t],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?uu.resolve(!0):bc(e).get(Bs.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new yi(pi.FAILED_PRECONDITION,mc);return!1}}return!(!t.networkEnabled||!t.inForeground)||wc(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&gi("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return f(this,void 0,void 0,(function(){var e=this;return h(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Bs.store,tu.store],(function(t){var n=new gu(t,di.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return wc(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Hu.Kt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;gi("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,iu,(function(o){return i=new gu(o,r.Ne?r.Ne.next():di.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw bi("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new yi(pi.FAILED_PRECONDITION,ou);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return bc(e).get(Bs.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new yi(pi.FAILED_PRECONDITION,mc)}))},e.prototype.Ze=function(e){var t=new Bs(this.clientId,this.allowTabSynchronization,Date.now());return bc(e).put(Bs.key,t)},e.yt=function(){return lu.yt()},e.prototype.Xe=function(e){var t=this,n=bc(e);return n.get(Bs.key).next((function(e){return t.tn(e)?(gi("IndexedDbPersistence","Releasing primary lease."),n.delete(Bs.key)):uu.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(bi("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Ke)||void 0===t?void 0:t.getItem(this.on(e)));return gi("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return bi("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(e){bi("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function bc(e){return bu(e,Bs.store)}function wc(e){return bu(e,tu.store)}function Ec(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Sc=function(e,t){this.progress=e,this.wn=t},_c=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Xi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):qo(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new Xi(t)).next((function(e){var t=Ba();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Ba();return this.Ut.getCollectionParents(e,i).next((function(a){return uu.forEach(a,(function(a){var s=function(e,t){return new Lo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=po.newInvalidDocument(c),r=r.insert(c,l)),ba(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){$o(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Wa(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Ta&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),Tc=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Wa(),i=Wa(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Ic=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Ai.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(Uo(t)||Vo(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(mi()<=M.DEBUG&&gi("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Go(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Ua(Yo(e));return t.forEach((function(t,r){$o(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return mi()<=M.DEBUG&&gi("QueryEngine","Using full collection scan to execute query:",Go(t)),this.Sn.getDocumentsMatchingQuery(e,t,Ai.min())},e}(),kc=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new La(Ni),this.kn=new uc((function(e){return mo(e)}),go),this.On=Ai.min(),this._n=e.getMutationQueue(n),this.$n=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new _c(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function Nc(e,t,n,r){return new kc(e,t,n,r)}function xc(e,t){return f(this,void 0,void 0,(function(){var n,r,i,o;return h(this,(function(a){switch(a.label){case 0:return n=Ti(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new _c(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Wa(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var y=p[d];r.push(y.batchId);for(var v=0,m=y.mutations;v<m.length;v++){var g=m[v];a=a.add(g.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Cc(e,t){var n=Ti(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=uu.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);_i(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Dc(e){var t=Ti(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Ac(e,t){var n=Ti(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return _i(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=za();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Pc(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Ai.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return uu.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.Fn=i,e}))}function Pc(e,t,n,r,i){var o=Wa();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=za();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Ai.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):gi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Oc(e,t){var n=Ti(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Rc(e,t){var n=Ti(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,uu.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new Su(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function Lc(e,t,n){return f(this,void 0,void 0,(function(){var r,i,o,a;return h(this,(function(s){switch(s.label){case 0:r=Ti(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!du(a=s.sent()))throw a;return gi("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function Mc(e,t,n){var r=Ti(e),i=Ai.min(),o=Wa();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ti(e),i=r.kn.get(n);return void 0!==i?uu.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,Ko(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Ai.min(),n?o:Wa())})).next((function(e){return{documents:e,Bn:o}}))}))}function Fc(e,t){var n=Ti(e),r=Ti(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Uc(e){var t=Ti(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Ti(e),i=za(),o=ku(n),a=dc(t),s=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:$s.readTimeIndex,range:s},(function(e,t){var n=Tu(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Nu(o)}}))}(t.$n,e,t.On)})).then((function(e){var n=e.wn,r=e.readTime;return t.On=r,n}))}function Vc(e){return f(this,void 0,void 0,(function(){var t;return h(this,(function(n){return[2,(t=Ti(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=dc(e),n=Ai.min();return t.Ot({index:$s.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Nu(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.On=e}))]}))}))}function jc(e,t,n,r){return f(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,d,p;return h(this,(function(h){switch(h.label){case 0:for(i=Ti(e),o=Wa(),a=za(),s=Ha(),u=0,c=n;u<c.length;u++)l=c[u],f=t.qn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,t.Un(l)),s=s.insert(f,t.Qn(l.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Rc(i,function(e){return Ko(Fo(Mi.fromString("__bundle__/docs/"+e)))}(r))];case 1:return p=h.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Pc(e,d,a,Ai.min(),s).next((function(t){return d.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return i.qe.addMatchingKeys(e,o,p.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function zc(e,t,n){return void 0===n&&(n=Wa()),f(this,void 0,void 0,(function(){var r,i;return h(this,(function(o){switch(o.label){case 0:return[4,Rc(e,Ko(Ou(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Ti(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=fs(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(e,t);var a=r.withResumeToken(ji.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(e,t)}))}))]}}))}))}var qc=function(){function e(e){this.R=e,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return uu.resolve(this.Kn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Kn.set(t.id,{id:(n=t).id,version:n.version,createTime:fs(n.createTime)}),uu.resolve()},e.prototype.getNamedQuery=function(e,t){return uu.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Ou(e.bundledQuery),readTime:fs(e.readTime)}}(t)),uu.resolve()},e}(),Bc=function(){function e(){this.Wn=new Ua(Kc.Gn),this.zn=new Ua(Kc.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Kc(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Kc(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new Xi(new Mi([])),r=new Kc(n,e),i=new Kc(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new Xi(new Mi([])),n=new Kc(t,e),r=new Kc(t,e+1),i=Wa();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Kc(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Kc=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return Xi.comparator(e.key,t.key)||Ni(e.ns,t.ns)},e.Hn=function(e,t){return Ni(e.ns,t.ns)||Xi.comparator(e.key,t.key)},e}(),Hc=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Ua(Kc.Gn)}return e.prototype.checkEmpty=function(e){return uu.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new wu(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Kc(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return uu.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return uu.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return uu.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return uu.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return uu.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Kc(t,0),i=new Kc(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),uu.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ua(Ni);return t.forEach((function(e){var t=new Kc(e,0),i=new Kc(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),uu.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Xi.isDocumentKey(i)||(i=i.child(""));var o=new Kc(new Xi(i),0),a=new Ua(Ni);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),uu.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;_i(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return uu.forEach(t.mutations,(function(i){var o=new Kc(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Kc(t,0),r=this.rs.firstAfterOrEqual(n);return uu.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,uu.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),Qc=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new La(Xi.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return uu.resolve(n?n.document.clone():po.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=za();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():po.newInvalidDocument(e))})),uu.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=za(),i=new Xi(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||$o(t,c)&&(r=r.insert(c.key,c.clone()))}return uu.resolve(r)},e.prototype.fs=function(e,t){return uu.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Wc(this)},e.prototype.getSize=function(e){return uu.resolve(this.size)},e}(),Wc=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return c(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),uu.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(cc),Gc=function(){function e(e){this.persistence=e,this.ds=new uc((function(e){return mo(e)}),go),this.lastRemoteSnapshotVersion=Ai.min(),this.highestTargetId=0,this.ws=0,this._s=new Bc,this.targetCount=0,this.ys=Yu.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),uu.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return uu.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return uu.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),uu.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),uu.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Yu(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,uu.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),uu.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,uu.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),uu.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return uu.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return uu.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),uu.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),uu.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),uu.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return uu.resolve(n)},e.prototype.containsKey=function(e,t){return uu.resolve(this._s.containsKey(t))},e}(),$c=function(){function e(e,t){var n=this;this.gs={},this.Ne=new di(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Gc(this),this.Ut=new Fu,this.Ue=function(e){return new Qc(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new _u(t),this.Qe=new qc(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Hc(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;gi("MemoryPersistence","Starting transaction:",e);var i=new Yc(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return uu.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Yc=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return c(t,e),t}(au),Xc=function(){function e(e){this.persistence=e,this.As=new Bc,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Si()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),uu.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),uu.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),uu.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return uu.forEach(this.vs,(function(r){var i=Xi.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return uu.or([function(){return uu.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Jc=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Zc(e,t){return"firestore_clients_"+e+"_"+t}function el(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function tl(e,t){return"firestore_targets_"+e+"_"+t}Jc.UNAUTHENTICATED=new Jc(null),Jc.GOOGLE_CREDENTIALS=new Jc("google-credentials-uid"),Jc.FIRST_PARTY=new Jc("first-party-uid");var nl=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new yi(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(bi("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),rl=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new yi(i.error.code,i.error.message)),o?new e(t,i.state,r):(bi("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),il=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=$a(),a=0;i&&a<r.activeTargetIds.length;++a)i=Yi(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(bi("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),ol=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(bi("SharedClientState","Failed to parse online state: "+t),null)},e}(),al=function(){function e(){this.activeTargetIds=$a()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),sl=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new La(Ni),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Zc(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new al),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Qs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return f(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,f=this;return h(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(Zc(this.persistenceKey,r)))&&(o=il.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.Os;u<c.length;u++)l=c[u],this.Fs(l);return this.Os=[],this.window.addEventListener("unload",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(tl(this.persistenceKey,e));if(n){var r=rl.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Ks(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Ks()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(tl(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return gi("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){gi("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){gi("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(gi("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void bi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return f(t,void 0,void 0,(function(){var e,t,r,i,o,a;return h(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=di.o;if(null!=e)try{var n=JSON.parse(e);_i("number"==typeof n),t=n}catch(e){bi("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==di.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new nl(this.currentUser,e,t,n),i=el(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=el(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=tl(this.persistenceKey,e),i=new rl(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return il.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return nl.Vs(new Jc(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return rl.Vs(r,t)},e.prototype.js=function(e){return ol.Vs(e)},e.prototype.ii=function(e){return f(this,void 0,void 0,(function(){return h(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(gi("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=$a();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),ul=function(){function e(){this.li=new al,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new al,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),cl=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),ll=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){gi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){gi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),fl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},hl=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),dl=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n}return c(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new hi;a.listenOnce(ui.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case si.NO_ERROR:var t=a.getResponseJson();gi("Connection","XHR received:",JSON.stringify(t)),i(t);break;case si.TIMEOUT:gi("Connection",'RPC "'+e+'" timed out'),o(new yi(pi.DEADLINE_EXCEEDED,"Request time out"));break;case si.HTTP_ERROR:var n=a.getStatus();if(gi("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(pi).indexOf(t)>=0?t:pi.UNKNOWN}(r.status);o(new yi(s,r.message))}else o(new yi(pi.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new yi(pi.UNAVAILABLE,"Connection failed."));break;default:Si()}}finally{gi("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.$i=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=oi(),i=ai(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,t),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(w())||"object"===typeof navigator&&"ReactNative"===navigator.product||w().indexOf("Electron/")>=0||function(){var e=w();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||w().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");gi("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new hl({Ei:function(e){c?gi("Connection","Not sending because WebChannel is closed:",e):(u||(gi("Connection","Opening WebChannel transport."),s.open(),u=!0),gi("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(s,fi.EventType.OPEN,(function(){c||gi("Connection","WebChannel transport opened.")})),f(s,fi.EventType.CLOSE,(function(){c||(c=!0,gi("Connection","WebChannel transport closed"),l.Vi())})),f(s,fi.EventType.ERROR,(function(e){c||(c=!0,wi("Connection","WebChannel transport errored:",e),l.Vi(new yi(pi.UNAVAILABLE,"The operation could not be completed")))})),f(s,fi.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];_i(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){gi("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=xa[e];if(void 0!==t)return Ra(t)}(o),u=i.message;void 0===a&&(a=pi.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new yi(a,u)),s.close()}else gi("Connection","WebChannel received:",n),l.Si(n)}})),f(i,ci.STAT_EVENT,(function(e){e.stat===li.PROXY?gi("Connection","Detected buffering proxy"):e.stat===li.NOPROXY&&gi("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);gi("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return gi("RestConnection","Received: ",e),e}),(function(t){throw wi("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Oi=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=fl[e];return this.Di+"/v1/"+t+":"+n},e}());function pl(){return"undefined"!=typeof window?window:null}function yl(){return"undefined"!=typeof document?document:null}function vl(e){return new ss(e,!0)}var ml=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&gi("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Qi=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),gl=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ml(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return f(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return f(this,void 0,void 0,(function(){return h(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return f(this,void 0,void 0,(function(){return h(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===pi.RESOURCE_EXHAUSTED?(bi(t.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):t&&t.code===pi.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new yi(pi.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return f(e,void 0,void 0,(function(){return h(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return gi("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(gi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),bl=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return c(t,e),t.prototype.wr=function(e){return this.Hi.$i("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Si()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(_i(void 0===t||"string"==typeof t),ji.fromBase64String(t||"")):(_i(void 0===t||t instanceof Uint8Array),ji.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?pi.UNKNOWN:Ra(e.code);return new yi(t,e.message||"")}(s);n=new es(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=ys(e,r.document.name),o=fs(r.document.updateTime);var s=new fo({mapValue:{fields:r.document.fields}}),u=(a=po.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new Ja(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=ys(e,r.document),o=r.readTime?fs(r.readTime):Ai.min(),s=po.newNoDocument(i,o),a=r.removedTargetIds||[],n=new Ja([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=ys(e,r.document),o=r.removedTargetIds||[],n=new Ja([],o,i,null);else{if(!("filter"in t))return Si();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new Pa(r),o=l.targetId,n=new Za(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Ai.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ai.min():t.readTime?fs(t.readTime):Ai.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=gs(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=bo(r)?{documents:Ts(e,r)}:{query:Is(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=cs(e,t.resumeToken):t.snapshotVersion.compareTo(Ai.min())>0&&(n.readTime=us(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Si()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=gs(this.R),t.removeTarget=e,this.cr(t)},t}(gl),wl=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return c(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.$i("Write",e)},t.prototype.onMessage=function(e){if(_i(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(_i(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?fs(e.updateTime):fs(t);return n.isEqual(Ai.min())&&(n=fs(t)),new pa(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=fs(e.commitTime);return this.listener.Tr(n,t)}return _i(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=gs(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ss(t.R,e)}))};this.cr(n)},t}(gl),El=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return c(t,e),t.prototype.br=function(){if(this.Rr)throw new yi(pi.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===pi.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new yi(pi.UNKNOWN,e.toString())}))},t.prototype.Oi=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===pi.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new yi(pi.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),Sl=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(bi(t),this.Vr=!1):gi("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),_l=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return f(o,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return Pl(this)?(gi("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return f(this,void 0,void 0,(function(){var t;return h(this,(function(n){switch(n.label){case 0:return(t=Ti(e)).$r.add(4),[4,Il(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.$r.delete(4),[4,Tl(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Sl(n,r)};function Tl(e){return f(this,void 0,void 0,(function(){var t,n;return h(this,(function(r){switch(r.label){case 0:if(!Pl(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Il(e){return f(this,void 0,void 0,(function(){var t,n;return h(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function kl(e,t){var n=Ti(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),Al(n)?Dl(n):Wl(n).er()&&xl(n,t))}function Nl(e,t){var n=Ti(e),r=Wl(n);n.Or.delete(t),r.er()&&Cl(n,t),0===n.Or.size&&(r.er()?r.ir():Pl(n)&&n.Br.set("Unknown"))}function xl(e,t){e.qr.U(t.targetId),Wl(e).mr(t)}function Cl(e,t){e.qr.U(t),Wl(e).yr(t)}function Dl(e){e.qr=new ns({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),Wl(e).start(),e.Br.Sr()}function Al(e){return Pl(e)&&!Wl(e).tr()&&e.Or.size>0}function Pl(e){return 0===Ti(e).$r.size}function Ol(e){e.qr=void 0}function Rl(e){return f(this,void 0,void 0,(function(){return h(this,(function(t){return e.Or.forEach((function(t,n){xl(e,t)})),[2]}))}))}function Ll(e,t){return f(this,void 0,void 0,(function(){return h(this,(function(n){return Ol(e),Al(e)?(e.Br.Nr(t),Dl(e)):e.Br.set("Unknown"),[2]}))}))}function Ml(e,t,n){return f(this,void 0,void 0,(function(){var r,i,o;return h(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof es&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return f(this,void 0,void 0,(function(){var n,r,i,o;return h(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.Or.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.Or.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),gi("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Fl(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Ja?e.qr.X(t):t instanceof Za?e.qr.rt(t):e.qr.et(t),n.isEqual(Ai.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Dc(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Or.get(r);i&&e.Or.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Or.get(t);if(n){e.Or.set(t,n.withResumeToken(ji.EMPTY_BYTE_STRING,n.snapshotVersion)),Cl(e,t);var r=new Su(n.target,t,1,n.sequenceNumber);xl(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return gi("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Fl(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Fl(e,t,n){return f(this,void 0,void 0,(function(){var r=this;return h(this,(function(i){switch(i.label){case 0:if(!du(t))throw t;return e.$r.add(1),[4,Il(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Dc(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return f(r,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return gi("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.$r.delete(1),[4,Tl(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Ul(e,t){return t().catch((function(n){return Fl(e,n,t)}))}function Vl(e){return f(this,void 0,void 0,(function(){var t,n,r,i,o;return h(this,(function(a){switch(a.label){case 0:t=Ti(e),n=Gl(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Pl(e)&&e.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Oc(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=Gl(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Fl(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return jl(t)&&zl(t),[2]}}))}))}function jl(e){return Pl(e)&&!Gl(e).tr()&&e.kr.length>0}function zl(e){Gl(e).start()}function ql(e){return f(this,void 0,void 0,(function(){return h(this,(function(t){return Gl(e).Ar(),[2]}))}))}function Bl(e){return f(this,void 0,void 0,(function(){var t,n,r,i;return h(this,(function(o){for(t=Gl(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function Kl(e,t,n){return f(this,void 0,void 0,(function(){var r,i;return h(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=Eu.from(r,t,n),[4,Ul(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Vl(e)];case 2:return o.sent(),[2]}}))}))}function Hl(e,t){return f(this,void 0,void 0,(function(){return h(this,(function(n){switch(n.label){case 0:return t&&Gl(e).pr?[4,function(e,t){return f(this,void 0,void 0,(function(){var n,r;return h(this,(function(i){switch(i.label){case 0:return Oa(r=t.code)&&r!==pi.ABORTED?(n=e.kr.shift(),Gl(e).sr(),[4,Ul(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Vl(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return jl(e)&&zl(e),[2]}}))}))}function Ql(e,t){return f(this,void 0,void 0,(function(){var n;return h(this,(function(r){switch(r.label){case 0:return n=Ti(e),t?(n.$r.delete(2),[4,Tl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.$r.add(2),[4,Il(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Wl(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Ti(e);return r.br(),new bl(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Rl.bind(null,e),Ri:Ll.bind(null,e),_r:Ml.bind(null,e)}),e.Mr.push((function(n){return f(t,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Al(e)?Dl(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Ol(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Gl(e){var t=this;return e.Qr||(e.Qr=function(e,t,n){var r=Ti(e);return r.br(),new wl(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:ql.bind(null,e),Ri:Hl.bind(null,e),Ir:Bl.bind(null,e),Tr:Kl.bind(null,e)}),e.Mr.push((function(n){return f(t,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return n?(e.Qr.sr(),[4,Vl(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:t.sent(),e.kr.length>0&&(gi("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Qr}var $l=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new su,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yi(pi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Yl(e,t){if(bi("AsyncQueue",t+": "+e),du(e))return new yi(pi.UNAVAILABLE,t+": "+e);throw e}var Xl=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Xi.comparator(t.key,n.key)}:function(e,t){return Xi.comparator(e.key,t.key)},this.keyedMap=Ba(),this.sortedSet=new La(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Jl=function(){function e(){this.Kr=new La(Xi.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Kr.get(t);n?0!==e.type&&3===n.type?this.Kr=this.Kr.insert(t,e):3===e.type&&1!==n.type?this.Kr=this.Kr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Kr=this.Kr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Kr=this.Kr.remove(t):1===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):Si():this.Kr=this.Kr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Kr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Zl=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Xl.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),ef=function(){this.Wr=void 0,this.listeners=[]},tf=function(){this.queries=new uc((function(e){return Wo(e)}),Qo),this.onlineState="Unknown",this.Gr=new Set};function nf(e,t){return f(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return h(this,(function(c){switch(c.label){case 0:if(n=Ti(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new ef),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Yl(s,"Initialization of query '"+Go(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&sf(n),[2]}}))}))}function rf(e,t){return f(this,void 0,void 0,(function(){var n,r,i,o,a;return h(this,(function(s){return n=Ti(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function of(e,t){for(var n=Ti(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&sf(n)}function af(e,t,n){var r=Ti(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function sf(e){e.Gr.forEach((function(e){e.next()}))}var uf=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Zl(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),cf=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),lf=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return ys(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Es(this.R,e.document,!1):po.newNoDocument(this.qn(e.metadata.name),this.Qn(e.metadata.readTime))},e.prototype.Qn=function(e){return fs(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=ff(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new lf(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Wa()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return f(this,void 0,void 0,(function(){var e,t,n,r,i;return h(this,(function(o){switch(o.label){case 0:return[4,jc(this.localStore,new lf(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,zc(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Sc(Object.assign({},this.progress),e))]}}))}))}}();function ff(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var hf=function(e){this.key=e},df=function(e){this.key=e},pf=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Wa(),this.mutatedKeys=Wa(),this.lo=Yo(e),this.fo=new Xl(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Jl,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Uo(this.query)&&i.size===this.query.limit?i.last():null,c=Vo(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=$o(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Uo(this.query)||Vo(this.query))for(;a.size>this.query.limit;){var l=Uo(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Si()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Zl(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Jl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Wa(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new df(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new hf(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Wa();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Zl.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),yf=function(e,t,n){this.query=e,this.targetId=t,this.view=n},vf=function(e){this.key=e,this.bo=!1},mf=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new uc((function(e){return Wo(e)}),Qo),this.Vo=new Map,this.So=new Set,this.Do=new La(Xi.comparator),this.Co=new Map,this.No=new Bc,this.xo={},this.Fo=new Map,this.ko=Yu.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),e}();function gf(e,t){return f(this,void 0,void 0,(function(){var n,r,i,o,a,s;return h(this,(function(u){switch(u.label){case 0:return n=Wf(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Rc(n.localStore,Ko(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,bf(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&kl(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function bf(e,t,n,r){return f(this,void 0,void 0,(function(){var i,o,a,s,u,c;return h(this,(function(l){switch(l.label){case 0:return e.$o=function(t,n,r){return function(e,t,n,r){return f(this,void 0,void 0,(function(){var i,o,a;return h(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,Mc(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Pf(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Mc(e.localStore,t,!0)];case 1:return i=l.sent(),o=new pf(t,i.Bn),a=o._o(i.documents),s=Xa.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),Pf(e,n,u.To),c=new yf(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function wf(e,t){return f(this,void 0,void 0,(function(){var n,r,i;return h(this,(function(o){switch(o.label){case 0:return n=Ti(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!Qo(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Lc(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Nl(n.remoteStore,r.targetId),Df(n,r.targetId)})).catch(tc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Df(n,r.targetId),[4,Lc(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Ef(e,t,n){return f(this,void 0,void 0,(function(){var r,i,o,a;return h(this,(function(s){switch(s.label){case 0:r=Gf(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=Ti(e),i=Di.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Wa());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=wa(c,n.get(c.key));null!=l&&a.push(new Ta(c.key,l,ho(l.toProto().mapValue),ya.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new La(Ni)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Lf(r,i.changes)];case 3:return s.sent(),[4,Vl(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Yl(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Sf(e,t){return f(this,void 0,void 0,(function(){var n,r;return h(this,(function(i){switch(i.label){case 0:n=Ti(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Ac(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(_i(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?_i(r.bo):e.removedDocuments.size>0&&(_i(r.bo),r.bo=!1))})),[4,Lf(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,tc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function _f(e,t,n){var r=Ti(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ti(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&sf(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Tf(e,t,n){return f(this,void 0,void 0,(function(){var r,i,o,a,s,u;return h(this,(function(c){switch(c.label){case 0:return(r=Ti(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new La(Xi.comparator)).insert(o,po.newNoDocument(o,Ai.min())),s=Wa().add(o),u=new Ya(Ai.min(),new Map,new Ua(Ni),a,s),[4,Sf(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Rf(r),[3,4];case 2:return[4,Lc(r.localStore,t,!1).then((function(){return Df(r,t,n)})).catch(tc)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function If(e,t){return f(this,void 0,void 0,(function(){var n,r,i;return h(this,(function(o){switch(o.label){case 0:n=Ti(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Cc(n.localStore,t)];case 2:return i=o.sent(),Cf(n,r,null),xf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Lf(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,tc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function kf(e,t,n){return f(this,void 0,void 0,(function(){var r,i;return h(this,(function(o){switch(o.label){case 0:r=Ti(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Ti(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return _i(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),Cf(r,t,n),xf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Lf(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,tc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Nf(e,t){return f(this,void 0,void 0,(function(){var n,r,i,o,a;return h(this,(function(s){switch(s.label){case 0:Pl((n=Ti(e)).remoteStore)||gi("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=Ti(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=Yl(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function xf(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function Cf(e,t,n){var r=Ti(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Df(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Af(e,t)}))}function Af(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Nl(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Rf(e))}function Pf(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof hf?(e.No.addReference(o.key,t),Of(e,o)):o instanceof df?(gi("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Af(e,o.key)):Si()}}function Of(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(gi("SyncEngine","New document in limbo: "+n),e.So.add(r),Rf(e))}function Rf(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Xi(Mi.fromString(t)),r=e.ko.next();e.Co.set(r,new vf(n)),e.Do=e.Do.insert(n,r),kl(e.remoteStore,new Su(Ko(Fo(n.path)),r,2,di.o))}}function Lf(e,t,n){return f(this,void 0,void 0,(function(){var r,i,o,a;return h(this,(function(s){switch(s.label){case 0:return r=Ti(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.$o(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Tc.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return f(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return h(this,(function(f){switch(f.label){case 0:n=Ti(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return uu.forEach(t,(function(t){return uu.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return uu.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!du(r=f.sent()))throw r;return gi("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Mf(e,t){return f(this,void 0,void 0,(function(){var n,r;return h(this,(function(i){switch(i.label){case 0:return(n=Ti(e)).currentUser.isEqual(t)?[3,3]:(gi("SyncEngine","User change. New user:",t.toKey()),[4,xc(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new yi(pi.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Lf(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Ff(e,t){var n=Ti(e),r=n.Co.get(t);if(r&&r.bo)return Wa().add(r.key);var i=Wa(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Uf(e,t){return f(this,void 0,void 0,(function(){var n,r,i;return h(this,(function(o){switch(o.label){case 0:return[4,Mc((n=Ti(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Pf(n,t.targetId,i.To),i)]}}))}))}function Vf(e){return f(this,void 0,void 0,(function(){var t;return h(this,(function(n){return[2,Uc((t=Ti(e)).localStore).then((function(e){return Lf(t,e)}))]}))}))}function jf(e,t,n,r){return f(this,void 0,void 0,(function(){var i,o;return h(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Ti(e),r=Ti(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):uu.resolve(null)}))}))}((i=Ti(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Vl(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Cf(i,t,r||null),xf(i,t),function(e,t){Ti(Ti(e)._n).Gt(t)}(i.localStore,t)):Si(),a.label=4;case 4:return[4,Lf(i,o)];case 5:return a.sent(),[3,7];case 6:gi("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function zf(e,t){return f(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return h(this,(function(l){switch(l.label){case 0:return Wf(n=Ti(e)),Gf(n),!0!==t||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,qf(n,r.toArray())]);case 1:return i=l.sent(),n.Oo=!0,[4,Ql(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],kl(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.Oo?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return Df(n,t),Lc(n.localStore,t,!0)})),Nl(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,qf(n,u)];case 5:return l.sent(),function(e){var t=Ti(e);t.Co.forEach((function(e,n){Nl(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new La(Xi.comparator)}(n),n.Oo=!1,[4,Ql(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function qf(e,t,n){return f(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,p,y,v;return h(this,(function(h){switch(h.label){case 0:n=Ti(e),r=[],i=[],o=0,a=t,h.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,Rc(n.localStore,Ko(c[0]))]:[3,7]):[3,13];case 2:u=h.sent(),l=0,f=c,h.label=3;case 3:return l<f.length?(d=f[l],p=n.Po.get(d),[4,Uf(n,p)]):[3,6];case 4:(y=h.sent()).snapshot&&i.push(y.snapshot),h.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Fc(n.localStore,s)];case 8:return v=h.sent(),[4,Rc(n.localStore,v)];case 9:return u=h.sent(),[4,bf(n,Bf(v),s,!1)];case 10:h.sent(),h.label=11;case 11:r.push(u),h.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Bf(e){return Mo(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Kf(e){var t=Ti(e);return Ti(Ti(t.localStore).persistence).fn()}function Hf(e,t,n,r){return f(this,void 0,void 0,(function(){var i,o,a;return h(this,(function(s){switch(s.label){case 0:return(i=Ti(e)).Oo?(gi("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Uc(i.localStore)];case 3:return o=s.sent(),a=Ya.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Lf(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Lc(i.localStore,t,!0)];case 6:return s.sent(),Df(i,t,r),[3,8];case 7:Si(),s.label=8;case 8:return[2]}}))}))}function Qf(e,t,n){return f(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,d;return h(this,(function(p){switch(p.label){case 0:if(!(r=Wf(e)).Oo)return[3,10];i=0,o=t,p.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(gi("SyncEngine","Adding an already active target "+a),[3,5]):[4,Fc(r.localStore,a)]):[3,6];case 2:return s=p.sent(),[4,Rc(r.localStore,s)];case 3:return u=p.sent(),[4,bf(r,Bf(s),u.targetId,!1)];case 4:p.sent(),kl(r.remoteStore,u),p.label=5;case 5:return i++,[3,1];case 6:c=function(e){return h(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Lc(r.localStore,e,!1).then((function(){Nl(r.remoteStore,e),Df(r,e)})).catch(tc)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,p.label=7;case 7:return l<f.length?(d=f[l],[5,c(d)]):[3,10];case 8:p.sent(),p.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Wf(e){var t=Ti(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Sf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ff.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Tf.bind(null,t),t.vo._r=of.bind(null,t.eventManager),t.vo.Mo=af.bind(null,t.eventManager),t}function Gf(e){var t=Ti(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=If.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kf.bind(null,t),t}var $f=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return f(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return this.R=vl(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Qo=function(e){return Nc(this.persistence,new Ic,e.initialUser,this.R)},e.prototype.qo=function(e){return new $c(Xc.bs,this.R)},e.prototype.Bo=function(e){return new ul},e.prototype.terminate=function(){return f(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Yf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Ko=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return c(t,e),t.prototype.initialize=function(t){return f(this,void 0,void 0,(function(){return h(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Vc(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,t)];case 3:return n.sent(),[4,Gf(this.Ko.syncEngine)];case 4:return n.sent(),[4,Vl(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Qo=function(e){return Nc(this.persistence,new Ic,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new ic(t,e.asyncQueue)},t.prototype.qo=function(e){var t=Ec(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?qu.withCacheSize(this.cacheSizeBytes):qu.DEFAULT;return new gc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,pl(),yl(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new ul},t}($f),Xf=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Ko=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return c(t,e),t.prototype.initialize=function(t){return f(this,void 0,void 0,(function(){var n,r=this;return h(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof sl?(this.sharedClientState.syncEngine={ui:jf.bind(null,n),ai:Hf.bind(null,n),hi:Qf.bind(null,n),fn:Kf.bind(null,n),ci:Vf.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return f(r,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,zf(this.Ko.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=pl();if(!sl.yt(t))throw new yi(pi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ec(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sl(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Yf),Jf=function(){function e(){}return e.prototype.initialize=function(e,t){return f(this,void 0,void 0,(function(){var n=this;return h(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return _f(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Mf.bind(null,this.syncEngine),[4,Ql(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new tf},e.prototype.createDatastore=function(e){var t,n=vl(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new dl(t));return function(e,t,n){return new El(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return _f(a.syncEngine,e,0)},o=ll.yt()?new ll:new cl,new _l(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new mf(e,t,n,r,i,o);return a&&(s.Oo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return f(this,void 0,void 0,(function(){var t;return h(this,(function(n){switch(n.label){case 0:return t=Ti(e),gi("RemoteStore","RemoteStore shutting down."),t.$r.add(5),[4,Il(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();var Zf=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),eh=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new su,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return f(this,void 0,void 0,(function(){return h(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return f(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return f(this,void 0,void 0,(function(){var e,t,n,r;return h(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new cf(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return f(this,void 0,void 0,(function(){var e,t;return h(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return f(this,void 0,void 0,(function(){var t;return h(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return f(this,void 0,void 0,(function(){var e,t;return h(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return f(this,void 0,void 0,(function(){var t,n=this;return h(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new yi(pi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return f(this,void 0,void 0,(function(){var n,r,i,o,a,s;return h(this,(function(u){switch(u.label){case 0:return n=Ti(e),r=gs(n.R)+"/documents",i={documents:t.map((function(e){return ps(n.R,e)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){_i(!!t.found),t.found.name,t.found.updateTime;var n=ys(e,t.found.name),r=fs(t.found.updateTime),i=new fo({mapValue:{fields:t.found.fields}});return po.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){_i(!!t.missing),_i(!!t.readTime);var n=ys(e,t.missing),r=fs(t.readTime);return po.newNoDocument(n,r)}(e,t):Si()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());_i(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Da(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return f(this,void 0,void 0,(function(){var e,t=this;return h(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Xi.fromPath(n);t.mutations.push(new Aa(r,t.precondition(r)))})),[4,function(e,t){return f(this,void 0,void 0,(function(){var n,r,i;return h(this,(function(o){switch(o.label){case 0:return n=Ti(e),r=gs(n.R)+"/documents",i={writes:t.map((function(e){return Ss(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Si();t=Ai.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new yi(pi.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ya.updateTime(t):ya.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ai.min()))throw new yi(pi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ya.updateTime(t)}return ya.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),th=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new ml(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return f(e,void 0,void 0,(function(){var e,t,n=this;return h(this,(function(r){return e=new eh(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Gi(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Oa(t)}return!1},e}(),nh=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Jc.UNAUTHENTICATED,this.clientId=ki.u(),this.credentialListener=function(){},this.receivedInitialUser=new su,this.credentials.setChangeListener((function(e){gi("FirestoreClient","Received user=",e.uid),r.user=e,r.credentialListener(e),r.receivedInitialUser.resolve()}))}return e.prototype.getConfiguration=function(){return f(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(e.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},e.prototype.setCredentialChangeListener=function(e){var t=this;this.credentialListener=e,this.receivedInitialUser.promise.then((function(){return t.credentialListener(t.user)}))},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new yi(pi.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new su;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return f(e,void 0,void 0,(function(){var e,n;return h(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Yl(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function rh(e,t){return f(this,void 0,void 0,(function(){var n,r,i=this;return h(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),gi("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,e.asyncQueue.enqueueRetryable((function(){return f(i,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return[4,xc(t.localStore,n)];case 1:return e.sent(),[2]}}))}))})))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function ih(e,t){return f(this,void 0,void 0,(function(){var n,r;return h(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,oh(e)];case 1:return n=i.sent(),gi("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(n){return e.asyncQueue.enqueueRetryable((function(){return function(e,t){return f(this,void 0,void 0,(function(){var n,r;return h(this,(function(i){switch(i.label){case 0:return(n=Ti(e)).asyncQueue.verifyOperationInProgress(),gi("RemoteStore","RemoteStore received new credentials"),r=Pl(n),n.$r.add(3),[4,Il(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.$r.delete(3),[4,Tl(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,n)}))})),e.onlineComponents=t,[2]}}))}))}function oh(e){return f(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(gi("FirestoreClient","Using default OfflineComponentProvider"),[4,rh(e,new $f)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function ah(e){return f(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(gi("FirestoreClient","Using default OnlineComponentProvider"),[4,ih(e,new Jf)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function sh(e){return oh(e).then((function(e){return e.persistence}))}function uh(e){return oh(e).then((function(e){return e.localStore}))}function ch(e){return ah(e).then((function(e){return e.remoteStore}))}function lh(e){return ah(e).then((function(e){return e.syncEngine}))}function fh(e){return f(this,void 0,void 0,(function(){var t,n;return h(this,(function(r){switch(r.label){case 0:return[4,ah(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=gf.bind(null,t.syncEngine),n.onUnlisten=wf.bind(null,t.syncEngine),n)]}}))}))}function hh(e,t,n){var r=this;void 0===n&&(n={});var i=new su;return e.asyncQueue.enqueueAndForget((function(){return f(r,void 0,void 0,(function(){var r;return h(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Zf({next:function(o){t.enqueueAndForget((function(){return rf(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new yi(pi.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new yi(pi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new uf(Fo(n.path),o,{includeMetadataChanges:!0,so:!0});return nf(e,a)},[4,fh(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function dh(e,t,n){var r=this;void 0===n&&(n={});var i=new su;return e.asyncQueue.enqueueAndForget((function(){return f(r,void 0,void 0,(function(){var r;return h(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Zf({next:function(n){t.enqueueAndForget((function(){return rf(e,a)})),n.fromCache&&"server"===r.source?i.reject(new yi(pi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new uf(n,o,{includeMetadataChanges:!0,so:!0});return nf(e,a)},[4,fh(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var ph=function(e,t,n,r,i,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},yh=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),vh=new Map,mh=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},gh=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(Jc.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),bh=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(this.token.user)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),wh=function(){function e(e){var t=this;this.oc=null,this.currentUser=Jc.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){t.cc++,t.currentUser=t.uc(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.cc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),e.get().then((function(e){t.auth=e,t.oc&&t.auth.addAuthTokenListener(t.oc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(gi("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(_i("string"==typeof n.accessToken),new mh(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},e.prototype.uc=function(){var e=this.auth&&this.auth.getUid();return _i(null===e||"string"==typeof e),new Jc(e)},e}(),Eh=function(){function e(e,t,n){this.ac=e,this.hc=t,this.lc=n,this.type="FirstParty",this.user=Jc.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.hc},t=this.ac.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.lc&&(e["X-Goog-Iam-Authorization-Token"]=this.lc),e},enumerable:!1,configurable:!0}),e}(),Sh=function(){function e(e,t,n){this.ac=e,this.hc=t,this.lc=n}return e.prototype.getToken=function(){return Promise.resolve(new Eh(this.ac,this.hc,this.lc))},e.prototype.setChangeListener=function(e){e(Jc.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function _h(e,t,n){if(!n)throw new yi(pi.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Th(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new yi(pi.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Ih(e,t,n,r){if(!0===t&&!0===r)throw new yi(pi.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function kh(e){if(!Xi.isDocumentKey(e))throw new yi(pi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Nh(e){if(Xi.isDocumentKey(e))throw new yi(pi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function xh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Si()}function Ch(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new yi(pi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=xh(e);throw new yi(pi.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Dh(e,t){if(t<=0)throw new yi(pi.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Ah=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new yi(pi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new yi(pi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,Ih("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),Ph=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ah({}),this._settingsFrozen=!1,e instanceof yh?(this._databaseId=e,this._credentials=new gh):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new yi(pi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yh(e.options.projectId)}(e),this._credentials=new wh(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new yi(pi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new yi(pi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ah(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new gh;switch(e.type){case"gapi":var t=e.client;return _i(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Sh(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new yi(pi.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=vh.get(this))&&(gi("ComponentProvider","Removing Datastore"),vh.delete(this),e.terminate()),Promise.resolve();var e},e}(),Oh=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Lh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Rh=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Lh=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Fo(r))||this)._path=r,i.type="collection",i}return c(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Oh(this.firestore,null,new Xi(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Rh);function Mh(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=C(e),_h("collection","path",t),e instanceof Ph)return Nh(n=Mi.fromString.apply(Mi,y([t],r))),new Lh(e,null,n);if(!(e instanceof Oh||e instanceof Lh))throw new yi(pi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Nh(n=Mi.fromString.apply(Mi,y([e.path],r)).child(Mi.fromString(t))),new Lh(e.firestore,null,n)}function Fh(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=C(e),1===arguments.length&&(t=ki.u()),_h("doc","path",t),e instanceof Ph)return kh(n=Mi.fromString.apply(Mi,y([t],r))),new Oh(e,null,new Xi(n));if(!(e instanceof Oh||e instanceof Lh))throw new yi(pi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return kh(n=e._path.child(Mi.fromString.apply(Mi,y([t],r)))),new Oh(e.firestore,e instanceof Lh?e.converter:null,new Xi(n))}function Uh(e,t){return e=C(e),t=C(t),(e instanceof Oh||e instanceof Lh)&&(t instanceof Oh||t instanceof Lh)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Vh(e,t){return e=C(e),t=C(t),e instanceof Rh&&t instanceof Rh&&e.firestore===t.firestore&&Qo(e._query,t._query)&&e.converter===t.converter}var jh=function(){function e(){var e=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new ml(this,"async_queue_retry"),this.Ec=function(){var t=yl();t&&gi("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=yl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Tc(),this.Ic(e)},e.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var e=yl();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ec)}},e.prototype.enqueue=function(e){return this.Tc(),this.wc?new Promise((function(e){})):this.Ic(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.dc.push(e),t.Ac()}))},e.prototype.Ac=function(){return f(this,void 0,void 0,(function(){var e,t=this;return h(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!du(e=n.sent()))throw e;return gi("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return t.Ac()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Ic=function(e){var t=this,n=this.fc.then((function(){return t.yc=!0,e().catch((function(e){throw t.mc=e,t.yc=!1,bi("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.yc=!1,e}))}));return this.fc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Tc(),this.gc.indexOf(e)>-1&&(t=0);var i=$l.createAndSchedule(this,e,t,n,(function(e){return r.Rc(e)}));return this._c.push(i),i},e.prototype.Tc=function(){this.mc&&Si()},e.prototype.verifyOperationInProgress=function(){},e.prototype.bc=function(){return f(this,void 0,void 0,(function(){var e;return h(this,(function(t){switch(t.label){case 0:return[4,e=this.fc];case 1:t.sent(),t.label=2;case 2:if(e!==this.fc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.vc=function(e){for(var t=0,n=this._c;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Pc=function(e){var t=this;return this.bc().then((function(){t._c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.bc()}))},e.prototype.Vc=function(e){this.gc.push(e)},e.prototype.Rc=function(e){var t=this._c.indexOf(e);this._c.splice(t,1)},e}();function zh(e){return function(e){if("object"!=typeof e||null===e)return!1;for(var t=e,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new su,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var qh=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new jh,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return c(t,e),t.prototype._terminate=function(){return this._firestoreClient||Kh(this),this._firestoreClient.terminate()},t}(Ph);function Bh(e){return e._firestoreClient||Kh(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Kh(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ph(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new nh(e._credentials,e._queue,r)}function Hh(e,t,n){var r=this,i=new su;return e.asyncQueue.enqueue((function(){return f(r,void 0,void 0,(function(){var r;return h(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,rh(e,n)];case 1:return o.sent(),[4,ih(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===pi.FAILED_PRECONDITION||e.code===pi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Qh(e){if(e._initialized||e._terminated)throw new yi(pi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Wh=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new yi(pi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ui(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Gh=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(ji.fromBase64String(t))}catch(t){throw new yi(pi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(ji.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),$h=function(e){this._methodName=e},Yh=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new yi(pi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new yi(pi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Ni(this._lat,e._lat)||Ni(this._long,e._long)},e}(),Xh=/^__.*__$/,Jh=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms):new _a(e,this.data,t,this.fieldTransforms)},e}(),Zh=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function ed(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Si()}}var td=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),e.prototype.Cc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Nc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Cc({path:n,xc:!1});return r.Fc(e),r},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Cc({path:n,xc:!1});return r.Sc(),r},e.prototype.Oc=function(e){return this.Cc({path:void 0,xc:!0})},e.prototype.$c=function(e){return Ed(e,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Sc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Fc(this.path.get(e))},e.prototype.Fc=function(e){if(0===e.length)throw this.$c("Document fields must not be empty");if(ed(this.Dc)&&Xh.test(e))throw this.$c('Document fields cannot begin and end with "__"')},e}(),nd=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||vl(e)}return e.prototype.Bc=function(e,t,n,r){return void 0===r&&(r=!1),new td({Dc:e,methodName:t,Lc:n,path:Ui.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function rd(e){var t=e._freezeSettings(),n=vl(e._databaseId);return new nd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function id(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Bc(o.merge||o.mergeFields?2:0,t,n,i);md("Data must be an object, but it was:",a,r);var s,u,c=yd(r,a);if(o.merge)s=new Vi(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=gd(t,h[f],n);if(!a.contains(d))throw new yi(pi.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Sd(l,d)||l.push(d)}s=new Vi(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new Jh(new fo(c),s,u)}var od=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Dc)throw 1===e.Dc?e.$c(this._methodName+"() can only appear at the top level of your update data"):e.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}($h);function ad(e,t,n){return new td({Dc:3,Lc:t.settings.Lc,methodName:e._methodName,xc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var sd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype._toFieldTransform=function(e){return new da(e.path,new oa)},t.prototype.isEqual=function(e){return e instanceof t},t}($h),ud=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return c(t,e),t.prototype._toFieldTransform=function(e){var t=ad(this,e,!0),n=this.qc.map((function(e){return pd(e,t)})),r=new aa(n);return new da(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}($h),cd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return c(t,e),t.prototype._toFieldTransform=function(e){var t=ad(this,e,!0),n=this.qc.map((function(e){return pd(e,t)})),r=new ua(n);return new da(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}($h),ld=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Uc=n,r}return c(t,e),t.prototype._toFieldTransform=function(e){var t=new la(e.R,ea(e.R,this.Uc));return new da(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}($h);function fd(e,t,n,r){var i=e.Bc(1,t,n);md("Data must be an object, but it was:",i,r);var o=[],a=fo.empty();Oi(r,(function(e,r){var s=wd(t,e,n);r=C(r);var u=i.kc(s);if(r instanceof od)o.push(s);else{var c=pd(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Vi(o);return new Zh(a,s,i.fieldTransforms)}function hd(e,t,n,r,i,o){var a=e.Bc(1,t,n),s=[gd(t,r,n)],u=[i];if(o.length%2!=0)throw new yi(pi.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(gd(t,o[c])),u.push(o[c+1]);for(var l=[],f=fo.empty(),h=s.length-1;h>=0;--h)if(!Sd(l,s[h])){var d=s[h],p=u[h];p=C(p);var y=a.kc(d);if(p instanceof od)l.push(d);else{var v=pd(p,y);null!=v&&(l.push(d),f.set(d,v))}}var m=new Vi(l);return new Zh(f,m,a.fieldTransforms)}function dd(e,t,n,r){return void 0===r&&(r=!1),pd(n,e.Bc(r?4:3,t))}function pd(e,t){if(vd(e=C(e)))return md("Unsupported field value:",t,e),yd(e,t);if(e instanceof $h)return function(e,t){if(!ed(t.Dc))throw t.$c(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.$c(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xc&&4!==t.Dc)throw t.$c("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=pd(o[i],t.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=C(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ea(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Di.fromDate(e);return{timestampValue:us(t.R,n)}}if(e instanceof Di)return n=new Di(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:us(t.R,n)};if(e instanceof Yh)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Gh)return{bytesValue:cs(t.R,e._byteString)};if(e instanceof Oh){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:hs(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.$c("Unsupported field value: "+xh(e))}(e,t)}function yd(e,t){var n={};return Ri(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Oi(e,(function(e,r){var i=pd(r,t.Nc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function vd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Di||e instanceof Yh||e instanceof Gh||e instanceof Oh||e instanceof $h)}function md(e,t,n){if(!vd(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=xh(n);throw"an object"===r?t.$c(e+" a custom object"):t.$c(e+" "+r)}}function gd(e,t,n){if((t=C(t))instanceof Wh)return t._internalPath;if("string"==typeof t)return wd(e,t);throw Ed("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var bd=new RegExp("[~\\*/\\[\\]]");function wd(e,t,n){if(t.search(bd)>=0)throw Ed("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Wh.bind.apply(Wh,y([void 0],t.split(".")))))._internalPath}catch(Se){throw Ed("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Ed(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new yi(pi.INVALID_ARGUMENT,(s+=". ")+e+u)}function Sd(e,t){return e.some((function(e){return e.isEqual(t)}))}var _d=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Oh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Td(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Id("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Td=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(_d);function Id(e,t){return"string"==typeof t?wd(e,t):t instanceof Wh?t._internalPath:t._delegate._internalPath}var kd=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Nd=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return c(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.toProto(),e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Id("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(_d),xd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Nd),Cd=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new kd(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new xd(n._firestore,n._userDataWriter,r.key,r,new kd(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new yi(pi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new xd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new xd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Dd(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Dd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Si()}}function Ad(e,t){return e instanceof Nd&&t instanceof Nd?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Cd&&t instanceof Cd&&e._firestore===t._firestore&&Vh(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Pd(e){if(Vo(e)&&0===e.explicitOrderBy.length)throw new yi(pi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Od=function(){};function Rd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){e=i[r]._apply(e)}return e}var Ld=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qc=t,i.Kc=n,i.jc=r,i.type="where",i}return c(t,e),t.prototype._apply=function(e){var t=rd(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new yi(pi.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){qd(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(zd(r,e,f))}s={arrayValue:{values:u}}}else s=zd(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||qd(a,o),s=dd(n,"where",a,"in"===o||"not-in"===o);var h=wo.create(i,o,s);return function(e,t){if(t.g()){var n=zo(e);if(null!==n&&!n.isEqual(t.field))throw new yi(pi.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=jo(e);null!==r&&Bd(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new yi(pi.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new yi(pi.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Rh(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Lo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Od),Md=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Qc=t,r.Wc=n,r.type="orderBy",r}return c(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new yi(pi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new yi(pi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ao(t,n);return function(e,t){if(null===jo(e)){var n=zo(e);null!==n&&Bd(e,n,t.field)}}(e,r),r}(e._query,this.Qc,this.Wc);return new Rh(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Lo(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Od),Fd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Gc=n,i.zc=r,i}return c(t,e),t.prototype._apply=function(e){return new Rh(e.firestore,e.converter,Ho(e._query,this.Gc,this.zc))},t}(Od),Ud=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return c(t,e),t.prototype._apply=function(e){var t=jd(e,this.type,this.Hc,this.Jc);return new Rh(e.firestore,e.converter,function(e,t){return new Lo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Od),Vd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return c(t,e),t.prototype._apply=function(e){var t=jd(e,this.type,this.Hc,this.Jc);return new Rh(e.firestore,e.converter,function(e,t){return new Lo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Od);function jd(e,t,n,r){if(n[0]=C(n[0]),n[0]instanceof _d)return function(e,t,n,r,i){if(!r)throw new yi(pi.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Bo(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(oo(t,r.key));else{var c=r.data.field(u.field);if(Hi(c))throw new yi(pi.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new yi(pi.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Co(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=rd(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new yi(pi.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new yi(pi.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!qo(e)&&-1!==c.indexOf("/"))throw new yi(pi.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Mi.fromString(c));if(!Xi.isDocumentKey(l))throw new yi(pi.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new Xi(l);s.push(oo(t,f))}else{var h=dd(n,r,c);s.push(h)}}return new Co(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function zd(e,t,n){if("string"==typeof(n=C(n))){if(""===n)throw new yi(pi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!qo(t)&&-1!==n.indexOf("/"))throw new yi(pi.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Mi.fromString(n));if(!Xi.isDocumentKey(r))throw new yi(pi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return oo(e,new Xi(r))}if(n instanceof Oh)return oo(e,n._key);throw new yi(pi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+xh(n)+".")}function qd(e,t){if(!Array.isArray(e)||0===e.length)throw new yi(pi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new yi(pi.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Bd(e,t,n){if(!n.isEqual(t))throw new yi(pi.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Kd=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Si()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Oi(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new Yh(Bi(e.latitude),Bi(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=Qi(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Wi(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=qi(e);return new Di(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Mi.fromString(e);_i(Fs(n));var r=new yh(n.get(1),n.get(3)),i=new Xi(n.popFirst(5));return r.isEqual(t)||bi("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Hd(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Qd=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return c(t,e),t.prototype.convertBytes=function(e){return new Gh(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Oh(this.firestore,null,t)},t}(Kd),Wd=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=rd(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Gd(e,this._firestore),i=Hd(r.converter,t,n),o=id(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,ya.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Gd(e,this._firestore);return o="string"==typeof(t=C(t))||t instanceof Wh?hd(this._dataReader,"WriteBatch.update",a._key,t,n,r):fd(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,ya.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Gd(e,this._firestore);return this._mutations=this._mutations.concat(new Da(t._key,ya.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new yi(pi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Gd(e,t){if((e=C(e)).firestore!==t)throw new yi(pi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var $d=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return c(t,e),t.prototype.convertBytes=function(e){return new Gh(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Oh(this.firestore,null,t)},t}(Kd);function Yd(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Ch(e,Oh);var o=Ch(e.firestore,qh),a=rd(o);return Jd(o,[("string"==typeof(t=C(t))||t instanceof Wh?hd(a,"updateDoc",e._key,t,n,r):fd(a,"updateDoc",e._key,t)).toMutation(e._key,ya.exists(!0))])}function Xd(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=C(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||zh(i[s])||(a=i[s],s++);var u,c,l,d={includeMetadataChanges:a.includeMetadataChanges};if(zh(i[s])){var p=i[s];i[s]=null===(t=p.next)||void 0===t?void 0:t.bind(p),i[s+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),i[s+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}if(e instanceof Oh)c=Ch(e.firestore,qh),l=Fo(e._key.path),u={next:function(t){i[s]&&i[s](Zd(c,e,t))},error:i[s+1],complete:i[s+2]};else{var y=Ch(e,Rh);c=Ch(y.firestore,qh),l=y._query;var v=new $d(c);u={next:function(e){i[s]&&i[s](new Cd(c,v,y,e))},error:i[s+1],complete:i[s+2]},Pd(e._query)}return function(e,t,n,r){var i=this,o=new Zf(r),a=new uf(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return f(i,void 0,void 0,(function(){var t;return h(this,(function(n){switch(n.label){case 0:return t=nf,[4,fh(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return f(i,void 0,void 0,(function(){var t;return h(this,(function(n){switch(n.label){case 0:return t=rf,[4,fh(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(Bh(c),l,d,u)}function Jd(e,t){return function(e,t){var n=this,r=new su;return e.asyncQueue.enqueueAndForget((function(){return f(n,void 0,void 0,(function(){var n;return h(this,(function(i){switch(i.label){case 0:return n=Ef,[4,lh(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Bh(e),t)}function Zd(e,t,n){var r=n.docs.get(t._key),i=new $d(e);return new Nd(e,i,t._key,r,new kd(n.hasPendingWrites,n.fromCache),t.converter)}var ep=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return c(t,e),t.prototype.get=function(t){var n=this,r=Gd(t,this._firestore),i=new $d(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Nd(n._firestore,i,r._key,e._document,new kd(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=rd(e)}return e.prototype.get=function(e){var t=this,n=Gd(e,this._firestore),r=new Qd(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Si();var i=e[0];if(i.isFoundDocument())return new _d(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new _d(t._firestore,r,n._key,null,n.converter);throw Si()}))},e.prototype.set=function(e,t,n){var r=Gd(e,this._firestore),i=Hd(r.converter,t,n),o=id(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Gd(e,this._firestore);return o="string"==typeof(t=C(t))||t instanceof Wh?hd(this._dataReader,"Transaction.update",a._key,t,n,r):fd(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=Gd(e,this._firestore);return this._transaction.delete(t._key),this},e}());function tp(){if("undefined"==typeof Uint8Array)throw new yi(pi.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function np(){if("undefined"==typeof atob)throw new yi(pi.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var rp=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return np(),new e(Gh.fromBase64String(t))},e.fromUint8Array=function(t){return tp(),new e(Gh.fromUint8Array(t))},e.prototype.toBase64=function(){return np(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return tp(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),ip=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Qh(e=Ch(e,qh));var n=Bh(e),r=e._freezeSettings(),i=new Jf;return Hh(n,i,new Yf(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Qh(e=Ch(e,qh));var t=Bh(e),n=e._freezeSettings(),r=new Jf;return Hh(t,r,new Xf(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new yi(pi.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new su;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return f(t,void 0,void 0,(function(){var t;return h(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return f(this,void 0,void 0,(function(){var t;return h(this,(function(n){switch(n.label){case 0:return lu.yt()?(t=e+"main",[4,lu.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Ec(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),op=function(){function e(e,t,n){var r=this;this._delegate=t,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof yh||(this.Xc=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var i=(e=Ch(e,Ph))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&wi("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:t+":"+n,ssl:!1})),r.mockUserToken){var o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=l({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[m.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),m.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new yi(pi.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new bh(new mh(o,new Jc(a)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return f(t,void 0,void 0,(function(){var t,n;return h(this,(function(r){switch(r.label){case 0:return[4,sh(e)];case 1:return t=r.sent(),[4,ch(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Ti(e);return t.$r.delete(0),Tl(t)}(n))]}}))}))}))}(Bh(Ch(this._delegate,qh)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return f(t,void 0,void 0,(function(){var t,n;return h(this,(function(r){switch(r.label){case 0:return[4,sh(e)];case 1:return t=r.sent(),[4,ch(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return f(this,void 0,void 0,(function(){var t;return h(this,(function(n){switch(n.label){case 0:return(t=Ti(e)).$r.add(0),[4,Il(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Bh(Ch(this._delegate,qh)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Ih("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new su;return e.asyncQueue.enqueueAndForget((function(){return f(t,void 0,void 0,(function(){var t;return h(this,(function(r){switch(r.label){case 0:return t=Nf,[4,lh(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Bh(Ch(this._delegate,qh)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Zf(t);return e.asyncQueue.enqueueAndForget((function(){return f(n,void 0,void 0,(function(){var t;return h(this,(function(n){switch(n.label){case 0:return t=function(e,t){Ti(e).Gr.add(t),t.next()},[4,fh(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return f(n,void 0,void 0,(function(){var t;return h(this,(function(n){switch(n.label){case 0:return t=function(e,t){Ti(e).Gr.delete(t)},[4,fh(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Bh(e=Ch(e,qh)),zh(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Xc)throw new yi(pi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new bp(this,Mh(this._delegate,e))}catch(e){throw fp(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new lp(this,Fh(this._delegate,e))}catch(e){throw fp(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new vp(this,function(e,t){if(e=Ch(e,Ph),_h("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new yi(pi.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Rh(e,null,function(e){return new Lo(Mi.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw fp(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new su;return e.asyncQueue.enqueueAndForget((function(){return f(n,void 0,void 0,(function(){var n;return h(this,(function(i){switch(i.label){case 0:return[4,function(e){return ah(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new th(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Bh(e),(function(n){return t(new ep(e,n))}))}(this._delegate,(function(n){return e(new sp(t,n))}))},e.prototype.batch=function(){var e=this;return Bh(this._delegate),new up(new Wd(this._delegate,(function(t){return Jd(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new yi(pi.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new yi(pi.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),ap=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return c(t,e),t.prototype.convertBytes=function(e){return new rp(new Gh(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return lp.Zc(t,this.firestore,null)},t}(Kd);var sp=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ap(e)}return e.prototype.get=function(e){var t=this,n=wp(e);return this._delegate.get(n).then((function(e){return new pp(t._firestore,new Nd(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=wp(e);return n?(Th("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=wp(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,y([a,t,n],i)),this},e.prototype.delete=function(e){var t=wp(e);return this._delegate.delete(t),this},e}(),up=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=wp(e);return n?(Th("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=wp(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,y([a,t,n],i)),this},e.prototype.delete=function(e){var t=wp(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),cp=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new xd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new yp(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.tu=function(t,n){var r=e.eu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new ap(t),n),i.set(n,o)),o},e}();cp.eu=new WeakMap;var lp=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ap(e)}return e.nu=function(t,n,r){if(t.length%2!=0)throw new yi(pi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Oh(n._delegate,r,new Xi(t)))},e.Zc=function(t,n,r){return new e(n,new Oh(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new bp(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new bp(this.firestore,Mh(this._delegate,e))}catch(e){throw fp(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=C(e))instanceof Oh&&Uh(this._delegate,e)},e.prototype.set=function(e,t){t=Th("DocumentReference.set",t);try{return function(e,t,n){e=Ch(e,Oh);var r=Ch(e.firestore,qh),i=Hd(e.converter,t,n);return Jd(r,[id(rd(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ya.none())])}(this._delegate,e,t)}catch(e){throw fp(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Yd(this._delegate,e):Yd.apply(void 0,y([this._delegate,e,t],n))}catch(e){throw fp(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Jd(Ch((e=this._delegate).firestore,qh),[new Da(e._key,ya.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=hp(t),i=dp(t,(function(t){return new pp(e.firestore,new Nd(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Xd(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Ch(e,Oh);var t=Ch(e.firestore,qh),n=Bh(t),r=new $d(t);return function(e,t){var n=this,r=new su;return e.asyncQueue.enqueueAndForget((function(){return f(n,void 0,void 0,(function(){var n;return h(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return f(this,void 0,void 0,(function(){var r,i;return h(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Ti(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new yi(pi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Yl(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,uh(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Nd(t,r,e._key,n,new kd(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Ch(e,Oh);var t=Ch(e.firestore,qh);return hh(Bh(t),e._key,{source:"server"}).then((function(n){return Zd(t,e,n)}))}(this._delegate):function(e){e=Ch(e,Oh);var t=Ch(e.firestore,qh);return hh(Bh(t),e._key).then((function(n){return Zd(t,e,n)}))}(this._delegate)).then((function(e){return new pp(t.firestore,new Nd(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(cp.tu(this.firestore,t)):this._delegate.withConverter(null))},e}();function fp(e,t,n){return e.message=e.message.replace(t,n),e}function hp(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!zh(r))return r}return{}}function dp(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=zh(e[0])?e[0]:zh(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var pp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new lp(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Ad(this._delegate,e._delegate)},e}(),yp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(pp),vp=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ap(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Rd(this._delegate,function(e,t,n){var r=t,i=Id("where",e);return new Ld(i,r,n)}(t,n,r)))}catch(t){throw fp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Rd(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Id("orderBy",e);return new Md(r,n)}(t,n)))}catch(t){throw fp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Rd(this._delegate,function(e){return Dh("limit",e),new Fd("limit",e,"F")}(t)))}catch(t){throw fp(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Rd(this._delegate,function(e){return Dh("limitToLast",e),new Fd("limitToLast",e,"L")}(t)))}catch(t){throw fp(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Rd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ud("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw fp(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Rd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ud("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw fp(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Rd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Vd("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw fp(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Rd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Vd("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw fp(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Vh(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Ch(e,Rh);var t=Ch(e.firestore,qh),n=Bh(t),r=new $d(t);return function(e,t){var n=this,r=new su;return e.asyncQueue.enqueueAndForget((function(){return f(n,void 0,void 0,(function(){var n;return h(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return f(this,void 0,void 0,(function(){var r,i,o,a,s;return h(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Mc(e,t,!0)];case 1:return s=u.sent(),r=new pf(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Yl(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,uh(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Cd(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Ch(e,Rh);var t=Ch(e.firestore,qh),n=Bh(t),r=new $d(t);return dh(n,e._query,{source:"server"}).then((function(n){return new Cd(t,r,e,n)}))}(this._delegate):function(e){e=Ch(e,Rh);var t=Ch(e.firestore,qh),n=Bh(t),r=new $d(t);return Pd(e._query),dh(n,e._query).then((function(n){return new Cd(t,r,e,n)}))}(this._delegate)).then((function(e){return new gp(t.firestore,new Cd(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=hp(t),i=dp(t,(function(t){return new gp(e.firestore,new Cd(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Xd(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(cp.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(),mp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new yp(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),gp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new vp(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new yp(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new mp(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new yp(n._firestore,r))}))},e.prototype.isEqual=function(e){return Ad(this._delegate,e._delegate)},e}(),bp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return c(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new lp(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new lp(this.firestore,void 0===e?Fh(this._delegate):Fh(this._delegate,e))}catch(e){throw fp(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Ch(e.firestore,qh),r=Fh(e),i=Hd(e.converter,t);return Jd(n,[id(rd(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ya.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new lp(t.firestore,e)}))},t.prototype.isEqual=function(e){return Uh(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(cp.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(vp);function wp(e){return Ch(e,Oh)}var Ep=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Wh.bind.apply(Wh,y([void 0],e)))}return e.documentId=function(){return new e(Ui.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=C(e))instanceof Wh&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Sp=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new sd("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new od("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ud("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new cd("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new ld("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();var _p,Tp={Firestore:op,GeoPoint:Yh,Timestamp:Di,Blob:rp,Transaction:sp,WriteBatch:up,DocumentReference:lp,DocumentSnapshot:pp,Query:vp,QueryDocumentSnapshot:yp,QuerySnapshot:gp,CollectionReference:bp,FieldPath:Ep,FieldValue:Sp,setLogLevel:function(e){var t;t=e,vi.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e){e.INTERNAL.registerComponent(new D("firestore",(function(e){return function(e,t){return new op(e,new qh(e,t),new ip)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Tp)))})(_p=oe),_p.registerVersion("@firebase/firestore","2.3.0");oe.initializeApp({apiKey:"AIzaSyAZuMTD1oaXCNQY__QV3nKpopntGfU2PKQ",authDomain:"project-leave-message.firebaseapp.com",projectId:"project-leave-message",storageBucket:"project-leave-message.appspot.com",messagingSenderId:"367275093546",appId:"1:367275093546:web:61fa6cecf9e591a8fc9d53"});const Ip=oe.firestore(),kp=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[u,c]=(0,r.useState)([]),[l,f]=(0,r.useState)(!1),[h,d]=(0,r.useState)(!1),[p,y]=(0,r.useState)({columnOne:null,columnTwo:null,columnThree:null}),[v,m]=(0,r.useState)(1);(0,r.useEffect)((()=>{let e=0,t=0,n=0;u.forEach((r=>{1===r.column?e+=r.message.length+80:2===r.column?t+=r.message.length+80:n+=r.message.length+80})),y({columnOne:e,columnTwo:t,columnThree:n})}),[u]);const g=async r=>{if(r.preventDefault(),e&&n){let r=1;r=0===u.length?1:1===u.length?2:2===u.length?3:p.columnOne<=p.columnTwo&&p.columnOne<=p.columnThree?1:p.columnTwo<=p.columnThree?2:3;let a=u.length+1;const s=new Date;let c=s.getMinutes(),l=c<10?"0"+c:c;const h=`${s.getDate()}.${s.getMonth()+1}.${s.getFullYear()} ${s.getHours()}:${l}`;let y={name:e,date:h,message:n,column:r,cardIndex:a};try{await Ip.collection("messages").add(y),i(""),t(""),d(!1)}catch(o){f("zpr\xe1va nebyla p\u0159id\xe1na "+o.message)}}};(0,r.useEffect)((()=>{0===u.length?m(1):1===u.length?m(2):m(3)}),[u]);(0,r.useEffect)((()=>{const e=Ip.collection("messages").onSnapshot((e=>{if(e.empty)f("no messages in database");else{let t=[];e.docs.forEach((e=>{t.push({id:e.id,...e.data()})})),t.sort(((e,t)=>new Date(e.date)-new Date(t.date))),c(t)}}),(e=>f(e.message)));return()=>e()}),[]),(0,r.useEffect)((()=>{console.log(p.columnOne),console.log(p.columnTwo),console.log(p.columnThree)}),[p]);return(0,a.jsxs)("div",{className:"app",children:[l&&(0,a.jsx)("p",{children:l}),(0,a.jsxs)("header",{children:[(0,a.jsx)("h2",{children:"Leave message"}),(0,a.jsx)("img",{className:"avatar",src:o,alt:"authors avatar"})]}),(0,a.jsxs)("div",{className:"message-board",children:[(0,a.jsxs)("div",{className:"columnOne",children:[(0,a.jsx)("div",{onClick:()=>d(!0),className:"single-card add-message",children:(0,a.jsx)("p",{children:"+"})}),u.filter((e=>1===e.column)).sort(((e,t)=>t.cardIndex-e.cardIndex)).map((e=>(0,a.jsxs)("div",{className:"single-card",children:[(0,a.jsxs)("div",{className:"miniheader",children:[(0,a.jsx)("p",{className:"name",children:e.name}),(0,a.jsx)("p",{className:"date",children:e.date})]}),(0,a.jsx)("p",{className:"message",children:e.message})]},e.id)))]}),(0,a.jsx)("div",{className:"columnTwo",children:u.filter((e=>2===e.column)).sort(((e,t)=>t.cardIndex-e.cardIndex)).map((e=>(0,a.jsxs)("div",{className:"single-card",children:[(0,a.jsxs)("div",{className:"miniheader",children:[(0,a.jsx)("p",{className:"name",children:e.name}),(0,a.jsx)("p",{className:"date",children:e.date})]}),(0,a.jsx)("p",{className:"message",children:e.message})]},e.id)))}),(0,a.jsx)("div",{className:"columnThree",children:u.filter((e=>3===e.column)).sort(((e,t)=>t.cardIndex-e.cardIndex)).map((e=>(0,a.jsxs)("div",{className:"single-card",children:[(0,a.jsxs)("div",{className:"miniheader",children:[(0,a.jsx)("p",{className:"name",children:e.name}),(0,a.jsx)("p",{className:"date",children:e.date})]}),(0,a.jsx)("p",{className:"message",children:e.message})]},e.id)))}),(0,a.jsx)("div",{className:"column-small-devices",children:u.sort(((e,t)=>t.cardIndex-e.cardIndex)).map((e=>(0,a.jsxs)("div",{className:"single-card",children:[(0,a.jsxs)("div",{className:"miniheader",children:[(0,a.jsx)("p",{className:"name",children:e.name}),(0,a.jsx)("p",{className:"date",children:e.date})]}),(0,a.jsx)("p",{className:"message",children:e.message})]},e.id)))})]}),(0,a.jsx)("div",{className:"type-area",children:(0,a.jsxs)("form",{onSubmit:g,className:"message-form",children:[(0,a.jsx)("input",{onChange:e=>t(e.target.value),placeholder:"your name",className:"input-name",type:"text",value:e}),(0,a.jsx)("textarea",{onChange:e=>i(e.target.value),placeholder:"your message",className:"input-text",value:n,maxLength:200,onKeyDown:t=>{"Enter"===t.key&&n&&e&&g(t)}}),(0,a.jsx)("input",{value:"send",className:"input-submit",type:"submit"})]})}),h&&(0,a.jsx)(s,{closePopup:()=>{d(!1)},getName:e=>t(e.target.value),getMessage:e=>i(e.target.value),sendMessage:g,nameValue:e,messageValue:n})]})};i.createRoot(document.getElementById("root")).render((0,a.jsx)(kp,{}))})();
//# sourceMappingURL=main.8e23b84e.js.map